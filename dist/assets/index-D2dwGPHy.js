import{b as D,R as l,u as v,j as R,o as A,r as a,s as g,l as j}from"./index-Lt7UiP-W.js";function h(t){const e=t+"CollectionProvider",[f,i]=D(e),[N,m]=f(e,{collectionRef:{current:null},itemMap:new Map}),x=r=>{const{scope:o,children:u}=r,n=l.useRef(null),c=l.useRef(new Map).current;return R.jsx(N,{scope:o,itemMap:c,collectionRef:n,children:u})};x.displayName=e;const C=t+"CollectionSlot",T=A(C),I=l.forwardRef((r,o)=>{const{scope:u,children:n}=r,c=m(C,u),s=v(o,c.collectionRef);return R.jsx(T,{ref:s,children:n})});I.displayName=C;const p=t+"CollectionItemSlot",S="data-radix-collection-item",y=A(p),M=l.forwardRef((r,o)=>{const{scope:u,children:n,...c}=r,s=l.useRef(null),E=v(o,s),d=m(p,u);return l.useEffect(()=>(d.itemMap.set(s,{ref:s,...c}),()=>void d.itemMap.delete(s))),R.jsx(y,{[S]:"",ref:E,children:n})});M.displayName=p;function O(r){const o=m(t+"CollectionConsumer",r);return l.useCallback(()=>{const n=o.collectionRef.current;if(!n)return[];const c=Array.from(n.querySelectorAll(`[${S}]`));return Array.from(o.itemMap.values()).sort((d,_)=>c.indexOf(d.ref.current)-c.indexOf(_.ref.current))},[o.collectionRef,o.itemMap])}return[{Provider:x,Slot:I,ItemSlot:M},O,i]}var L=g[" useId ".trim().toString()]||(()=>{}),P=0;function $(t){const[e,f]=a.useState(L());return j(()=>{f(i=>i??String(P++))},[t]),t||(e?`radix-${e}`:"")}function q(t){const e=a.useRef(t);return a.useEffect(()=>{e.current=t}),a.useMemo(()=>(...f)=>{var i;return(i=e.current)==null?void 0:i.call(e,...f)},[])}var w=a.createContext(void 0);function V(t){const e=a.useContext(w);return t||e||"ltr"}export{V as a,q as b,h as c,$ as u};

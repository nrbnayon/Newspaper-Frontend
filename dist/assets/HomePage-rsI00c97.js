const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D-7Uf-X6.js","assets/index-DasUzACO.css"])))=>i.map(i=>d[i]);
import{c as re,r as d,j as e,a as P,u as ye,b as we,H as ve,A as Ie,g as Te,C as Ee,d as De,e as tt,P as pe,f as ae,h as Et,i as st,k as Dt,l as _t,R as ie,m as Ut,n as Ot,X as be,E as _e,T as Fe,_ as $t,s as xe,o as O,p as zt,N as Ht,B as Ce}from"./index-D-7Uf-X6.js";import{c as Bt,u as at,a as rt,b as Vt,C as Wt}from"./index-85Ygg_48.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],Yt=re("book-open-text",Gt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],qt=re("heart",Kt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Xt=re("instagram",Zt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Jt=re("linkedin",Qt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ts=re("message-circle",es);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],as=re("message-square",ss);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ns=re("send",rs);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],is=re("twitter",os);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],cs=re("youtube",ls),ke=({className:t,size:s="default",onCommentClick:a,showCommentsCount:r=0,onLoveClick:l,isLoved:c=!1,loveCount:u=0,disabled:x=!1,isLoggedIn:y=!1,onAuthRequired:h=null})=>{const f=s==="small"?16:18,i=s==="small"?"text-xs":"text-sm",[m,j]=d.useState(!1),C=async()=>{if(!m){if(!y){h?.();return}j(!0);try{await l?.(!c)}catch(b){console.error("Failed to toggle love:",b)}finally{j(!1)}}},w=()=>{if(!y){h?.();return}a?.()};return e.jsxs("div",{className:P("flex items-center space-x-4",t),children:[e.jsxs("button",{onClick:C,disabled:m,className:P("flex cursor-pointer items-center transition-all duration-200 hover:scale-105",c?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500",m&&"opacity-50 cursor-not-allowed hover:scale-100"),"aria-label":c?"Unlike this article":"Like this article",children:[e.jsx(qt,{size:f,className:P("mr-2 transition-all duration-200",c&&"fill-current animate-pulse",m&&"animate-spin")}),e.jsxs("span",{className:P(i,"font-medium"),children:[c?"Loved":"Love",u>0&&` (${u})`]})]}),e.jsxs("button",{onClick:w,className:P("flex cursor-pointer items-center text-gray-600 hover:text-blue-500 transition-all duration-200 hover:scale-105"),"aria-label":"View comments",children:[e.jsx(ts,{size:f,className:"mr-2"}),e.jsxs("span",{className:P(i,"font-medium"),children:["Comment",r>0&&` (${r})`]})]})]})},$e=({comments:t=[],onPostComment:s,disabled:a=!1,allComments:r=[]})=>{const[l,c]=d.useState(!1),[u,x]=d.useState(""),[y,h]=d.useState(!1),[f,i]=d.useState(""),{user:m,profile:j}=ye(),C=async()=>{if(!(!u.trim()||a||y)){h(!0),i("");try{await s?.(u.trim()),x("")}catch(v){console.error("Failed to submit comment:",v),i("Failed to post comment. Please try again.")}finally{h(!1)}}},w=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),C())},b=l?t:t.slice(0,2);return e.jsxs("div",{className:"w-full mt-4 border-t pt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex gap-3",children:[m?.profilePicture?e.jsx("img",{src:`https://api.alamocitypulse.com/${m.profilePicture}`,alt:m.firstName,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center text-sm font-medium",children:m?.firstName?.slice(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:v=>x(v.target.value),onKeyPress:w,placeholder:a?"Please login to comment":"Write a comment...",disabled:a||y,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"}),e.jsx("button",{onClick:C,disabled:!u.trim()||a||y,className:"px-3 py-2 cursor-pointer bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(ns,{size:16})})]})]}),f&&e.jsx("div",{className:"mt-2 text-sm text-red-600 ml-11",children:f})]}),t.length>0&&e.jsx("div",{className:"ml-12 max-h-96 overflow-y-auto space-y-3",children:b.map((v,D)=>e.jsxs("div",{className:"flex gap-3",children:[v.avatar?e.jsx("img",{src:v.avatar.startsWith("/media/")?`https://api.alamocitypulse.com/${v.avatar}`:v.avatar,alt:`${v.author}'s avatar`,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center text-sm font-medium",children:v.author?.slice(0,2).toUpperCase()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm text-gray-900",children:v.author}),e.jsx("span",{className:"text-xs text-gray-500",children:v.time}),v.loved&&e.jsx("span",{className:"text-xs text-red-500",children:"❤️ Loved this article"})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed break-words",children:v.content})]})})]},`comment-${v.id||D}-${v.time}`))}),t.length>2&&e.jsx("button",{onClick:()=>c(!l),className:"text-blue-600 cursor-pointer hover:text-blue-800 text-sm font-medium transition-colors duration-200 ml-11 mt-3",children:l?"Show fewer comments":`See all ${t.length} comments`}),t.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No comments yet. Be the first to comment!"})]})},ze=({sentiment:t,className:s})=>{const a={positive:"bg-green-600 text-white",negative:"bg-custom-red text-white",neutral:"bg-gray-100 text-gray-700"},r=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),l=a[r.toLowerCase()]||a.neutral;return e.jsx("div",{className:P("inline-block px-3 py-1 text-sm font-medium w-fit",l,s),children:r})},nt=async(t=1,s=50)=>{try{const a=await we.get(`/news/get/all-news/?page=${t}&page_size=${s}`);if(a.data&&typeof a.data=="object"){if(a.data.results&&Array.isArray(a.data.results))return{results:a.data.results,count:a.data.count||a.data.results.length,next:a.data.next,previous:a.data.previous};if(Array.isArray(a.data))return{results:a.data,count:a.data.length,next:null,previous:null}}if(Array.isArray(a.data))return{results:a.data,count:a.data.length,next:null,previous:null};throw new Error("Invalid response format")}catch(a){return console.error("Failed to fetch all news:",a),{results:[],count:0,next:null,previous:null}}},ds=async({search_term:t,page:s=1,pageSize:a=20})=>{try{const r=encodeURIComponent(t),l=await we.get(`/news/search/?q=${r}&page=${s}&page_size=${a}`);return l.data&&l.data.results||Array.isArray(l.data),l.data}catch(r){return console.error("Failed to search news:",r),[]}},Ye=t=>{const s=t||{};return{id:s.id||Math.random(),title:s.title||"Untitled Article",description:s.description||"No description available",category:s.category||"General",publishedTime:s.published_relative_time||ot(s.published_datetime)||"Recently",publishedDateTime:s.published_datetime||new Date().toISOString(),image:s.image||fe(s.category),sentiment:s.badge_status||"Neutral",isFeatured:s.is_featured||!1,imageAttribution:s.author||s.source||"News Source",readTime:ms(s.description)||3,author:s.author||"Unknown Author",source:s.source||"News Source",url:s.url||"#",tags:s.tags||[]}},ms=t=>{if(!t||typeof t!="string")return 3;const s=200,a=t.trim().split(/\s+/).length,r=Math.ceil(a/s);return Math.max(1,r)},fe=(t="general")=>{const s={technology:"https://images.pexels.com/photos/6476589/pexels-photo-6476589.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",business:"https://images.pexels.com/photos/210607/pexels-photo-210607.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",health:"https://images.pexels.com/photos/3938022/pexels-photo-3938022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",environment:"https://images.pexels.com/photos/3894224/pexels-photo-3894224.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",politics:"https://images.pexels.com/photos/2325446/pexels-photo-2325446.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",sports:"https://images.pexels.com/photos/5915202/pexels-photo-5915202.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",local:"https://images.pexels.com/photos/323705/pexels-photo-323705.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",general:"https://images.pexels.com/photos/323705/pexels-photo-323705.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},a=t.toLowerCase();return s[a]||s.general},ot=t=>{if(!t)return"Recently";try{const s=new Date,a=new Date(t);if(isNaN(a.getTime()))return"Recently";const r=Math.floor((s-a)/1e3);return r<60?`${r} seconds ago`:r<3600?`${Math.floor(r/60)} minutes ago`:r<86400?`${Math.floor(r/3600)} hours ago`:r<2592e3?`${Math.floor(r/86400)} days ago`:r<31536e3?`${Math.floor(r/2592e3)} months ago`:`${Math.floor(r/31536e3)} years ago`}catch(s){return console.error("Error formatting time:",s),"Recently"}},Ue=[{key:"latests",label:"Latest News",count:6,categoryFilter:null,isDefault:!0},{key:"politics",label:"Politics",count:6,categoryFilter:["politics","government","election","policy"]},{key:"Local",label:"Local",count:6,categoryFilter:["local","city","community","regional"]},{key:"whatWeKnow",label:"Analysis",count:6,categoryFilter:["analysis","opinion","editorial","insight"]},{key:"maps",label:"Regional",count:6,categoryFilter:["regional","national","international","world"]},{key:"photos",label:"Photos",count:6,categoryFilter:["photos","gallery","images","visual"]},{key:"tunnels",label:"Investigations",count:5,categoryFilter:["investigation","exclusive","report","expose"]},{key:"oneImage",label:"Sports",count:6,categoryFilter:["sports","football","basketball","soccer","athletics","games"]}],Ke=t=>Ue.filter(s=>t[s.key]&&t[s.key].length>0),us=async t=>{try{return(await we.get(`/news/get/all-reactions/${t}/`)).data}catch(s){return console.error(`Failed to fetch reactions for news ID ${t}:`,s),[]}},hs=async(t,s)=>{try{return(await we.post(`/news/post/reactions/${t}/`,{love:s})).data}catch(a){throw console.error(`Failed to post love reaction for news ID ${t}:`,a),a}},gs=async(t,s)=>{try{return(await we.post(`/news/post/reactions/${t}/`,{comment:s})).data}catch(a){throw console.error(`Failed to post comment for news ID ${t}:`,a),a}},He=t=>Array.isArray(t)?t.filter(s=>s.comment&&s.comment.trim()!=="").map(s=>({id:s.id,author:s.user?.user_profile&&`${s.user.user_profile.first_name||""} ${s.user.user_profile.last_name||""}`.trim()||"Anonymous",content:s.comment,time:ot(s.created_at),avatar:s.user?.user_profile?.profile_picture,loved:s.love})):[],Be=t=>Array.isArray(t)?t.filter(s=>s.love===!0).length:0,Ve=t=>Array.isArray(t)?t.filter(s=>s.comment&&s.comment.trim()!=="").length:0,We=(t,s)=>{if(!Array.isArray(t)||!s)return!1;const a=t.filter(r=>r.user.id===s&&r.love!==null).sort((r,l)=>new Date(l.created_at)-new Date(r.created_at));return a.length===0?!1:a[0].love===!0},ue=({article:{id:t,title:s,description:a,category:r,publishedTime:l,image:c="/placeholder.svg?height=200&width=300",sentiment:u},className:x,imagePosition:y="top",reactions:h=[],onPostLove:f,onPostComment:i})=>{const[m,j]=d.useState(!1),{isLoggedIn:C,user:w}=ye(),[b,v]=d.useState(!1),[D,A]=d.useState("signin"),[S,W]=d.useState(!1),$=He(h),_=Be(h),T=Ve(h),I=We(h,w?.id),R=q=>{if(!q)return"";const Q=q.split(" ").filter(he=>he.length>0);return Q.length<=10?q:Q.slice(0,10).join(" ")},M=R(a),U=a&&a.length>120,B=()=>{if(!C){A("signin"),v(!0);return}j(!m)},ne=()=>{A("signin"),v(!0)},X=()=>{W(!S)},z=async q=>{try{await f?.(q)}catch(Q){console.error("Failed to post love reaction:",Q)}},K=async q=>{try{await i?.(q)}catch(Q){throw console.error("Failed to post comment:",Q),Q}},le=y==="left"||y==="right";return e.jsxs(e.Fragment,{children:[m&&e.jsxs(ve,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:a?R(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:a?R(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:c||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("div",{className:P("rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 bg-white",le?"flex":"flex-col",x),children:[e.jsxs("div",{className:P(le?"w-1/3 flex-shrink-0":"w-full",y==="right"?"order-2":"order-1","relative"),children:[e.jsx("img",{src:c,alt:s,className:"w-full h-72 xl:h-48 object-cover"}),u&&e.jsx("div",{className:"absolute top-1 left-1",children:e.jsx(ze,{sentiment:u,className:"text-xs py-0.5 px-2"})})]}),e.jsxs("div",{className:P("p-4 flex flex-col",le?"w-2/3":"w-full",y==="right"?"order-1":"order-2"),children:[e.jsx("div",{className:"w-full bg-custom-red text-white px-2 py-1.5 text-xs font-medium mb-2 self-start",children:r}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 leading-tight",children:s}),a&&e.jsx("div",{className:"text-gray-600 text-sm mb-3",children:e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:[m?a:M,!m&&U&&"... ",U&&e.jsx("button",{onClick:B,className:"text-blue-400 hover:text-blue-500 cursor-pointer text-sm sm:text-base font-medium transition-colors duration-200 focus:outline-none focus:underline",children:m?"Read less":"Read more"})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-auto",children:[e.jsx("div",{children:l&&e.jsx("span",{children:l})}),e.jsx("div",{children:e.jsx(ke,{onCommentClick:X,onLoveClick:z,showCommentsCount:T,isLoved:I,loveCount:_,isLoggedIn:C,onAuthRequired:ne})})]}),S&&e.jsx($e,{comments:$,onPostComment:K,disabled:!C,allComments:h})]}),e.jsx(Ie,{isOpen:b,onClose:()=>v(!1),initialMode:D})]})]})},qe=({id:t,title:s,description:a,category:r="THE HEADLINES",publishedTime:l,publishedDateTime:c,image:u="/placeholder.svg?height=100&width=150",sentiment:x="neutral",isFeatured:y,imageAttribution:h,readTime:f,className:i})=>{const{isLoggedIn:m,user:j}=ye(),[C,w]=d.useState(!1),[b,v]=d.useState(!1),[D,A]=d.useState("signin"),S=T=>{if(!T)return"";const I=T.split(" ").filter(R=>R.length>0);return I.length<=15?T:I.slice(0,15).join(" ")},W=S(a),$=a&&a.length>120,_=()=>{if(!m){A("signin"),v(!0);return}w(!C)};return e.jsxs(e.Fragment,{children:[C&&e.jsxs(ve,{children:[e.jsx("title",{children:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:a?S(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:a?S(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:u||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("div",{className:P("flex flex-col md:flex-row border-y border-black py-4 md:py-6",i),children:[e.jsx("div",{className:"w-full md:w-[150px] h-48 md:h-28 relative overflow-hidden flex-shrink-0",children:e.jsx("img",{src:u,alt:s,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-4 flex-1 flex flex-col justify-between",children:[e.jsx("div",{className:"flex items-center mb-1",children:e.jsx("span",{className:"text-xs font-bold text-gray-800 mr-2",children:r})}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2 line-clamp-2",children:s}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[C?a:W,!C&&$&&"..."]}),$&&e.jsxs("button",{onClick:_,className:"mt-1 flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[e.jsx(Yt,{size:16,className:"mr-1"}),C?"Read less":"Read more"]})]}),e.jsx("div",{className:"mt-auto md:ml-auto",children:e.jsx(ze,{sentiment:x,className:"text-xs py-0.5 px-2"})})]})]}),e.jsx(Ie,{isOpen:b,onClose:()=>v(!1),initialMode:D})]})},it=({type:t,value:s,className:a})=>{const r=t==="readTime",l=t==="timeAgo";return e.jsxs("div",{className:P("flex items-center",a),children:[r&&e.jsxs("span",{children:["Read Time ",s," Min"]}),l&&e.jsxs("span",{className:"text-gray-500 text-sm flex items-center",children:[" ","Read Time",s," Min"]})]})},ps=({currentIndex:t,setCurrentIndex:s,totalItems:a})=>{const r=l=>{const c=Math.abs(l-t);return c===0?"w-3 h-3":c===1?"w-2.5 h-2.5":"w-2 h-2"};return e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:a}).map((l,c)=>e.jsx("button",{className:`${r(c)} rounded-full transition-all duration-200 ${c===t?"bg-black":"bg-gray-300"}`,onClick:()=>s(c)},c))})},xs=({currentIndex:t,setCurrentIndex:s,totalItems:a})=>{const r=()=>{s(x=>x>0?x-1:a-1)},l=()=>{s(x=>x<a-1?x+1:0)},c=t>0,u=t<a-1;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:r,disabled:!c,className:`w-8 h-8 rounded-full flex items-center justify-center border transition-all ${c?"bg-white border-gray-300 text-gray-800 hover:bg-gray-50 hover:border-gray-400":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"}`,children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:l,disabled:!u,className:`w-8 h-8 rounded-full flex items-center justify-center border transition-all ${u?"bg-white border-gray-300 text-gray-800 hover:bg-gray-50 hover:border-gray-400":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"}`,children:e.jsx(De,{className:"w-4 h-4"})})]})},fs=({description:t,isLoggedIn:s,onAuthRequired:a})=>{const[r,l]=d.useState(!1),c=Te(t),u=t&&t.length>120,x=()=>{if(!s){a();return}l(!r)};return u?e.jsxs(e.Fragment,{children:[" ",r&&e.jsxs(ve,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-gray-600",children:[r?t:`${c}...`,e.jsx("button",{onClick:x,className:"text-blue-600 cursor-pointer hover:text-blue-800 font-medium text-sm mt-1 transition-colors duration-200 focus:outline-none focus:underline",children:r?"Read less":"Read more >"})]})})]}):e.jsx("p",{className:"text-gray-600 mb-4",children:t})},bs=({updates:t,className:s,newsReactions:a,onPostLove:r,onPostComment:l})=>{const[c,u]=d.useState(0),{isLoggedIn:x,user:y}=ye(),[h,f]=d.useState(!1),[i,m]=d.useState("signin"),[j,C]=d.useState(!1),w=t[c],b=a[w.id]||[],v=He(b),D=Be(b),A=Ve(b),S=We(b,y?.id),W=()=>{if(!x){m("signin"),f(!0);return}C(!j)},$=async I=>{if(!x){m("signin"),f(!0);return}try{await r(w.id,I)}catch(R){console.error("Failed to post love reaction:",R)}},_=async I=>{if(!x){m("signin"),f(!0);return}try{await l(w.id,I)}catch(R){throw console.error("Failed to post comment:",R),R}},T=()=>{m("signin"),f(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:P("pb-6",s),children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 lg:flex-row lg:items-start lg:gap-8 xl:gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full lg:w-2/5 xl:w-1/3",children:[e.jsx("div",{className:"font-bold text-xl mb-1",children:w.category}),e.jsxs("div",{className:"flex justify-start items-center gap-3 mt-2 text-custom-red",children:[e.jsx(it,{type:"live",value:null}),e.jsx("span",{className:"text-sm",children:w.timeAgo})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3",children:w.title}),e.jsx(fs,{description:w.description,isLoggedIn:x,onAuthRequired:T}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("button",{className:"text-gray-700 font-medium mr-2",children:"See more updates"}),e.jsx("span",{className:"bg-gray-700 text-white text-xs px-2 py-1 rounded-full",children:t.length})]}),e.jsx("div",{children:e.jsx(ke,{onCommentClick:W,onLoveClick:$,showCommentsCount:A,isLoved:S,loveCount:D,isLoggedIn:x,onAuthRequired:T})})]}),e.jsxs("div",{className:"relative w-full order-1 md:order-2 lg:w-2/3 flex flex-col items-end",children:[e.jsx("div",{className:"relative overflow-hidden w-full rounded-lg sm:rounded-none flex justify-end items-center",children:e.jsx("img",{src:w.image,alt:w.title,className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 xl:h-[28rem] object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"})}),e.jsx("div",{className:"w-full py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:t.length>1&&e.jsx(ps,{currentIndex:c,setCurrentIndex:u,totalItems:t.length})}),e.jsx("div",{className:"flex items-center md:mt-6",children:t.length>1&&e.jsx(xs,{currentIndex:c,setCurrentIndex:u,totalItems:t.length})})]})})]})]})}),j&&e.jsx($e,{comments:v,onPostComment:_,disabled:!x,allComments:b}),e.jsx(Ie,{isOpen:h,onClose:()=>f(!1),initialMode:i})]})},Ze=({title:t,children:s,className:a})=>e.jsxs("section",{className:P(" md:mb-10 py-2 border-b border-black",a),children:[t&&e.jsx("h2",{className:"text-xl font-bold mb-6 border-b border-gray-300 pb-2",children:t}),e.jsx("div",{children:s})]});var Le="rovingFocusGroup.onEntryFocus",ys={bubbles:!1,cancelable:!0},je="RovingFocusGroup",[Oe,lt,ws]=Bt(je),[vs,ct]=tt(je,[ws]),[js,Ns]=vs(je),dt=d.forwardRef((t,s)=>e.jsx(Oe.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Oe.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Cs,{...t,ref:s})})}));dt.displayName=je;var Cs=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:l=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...i}=t,m=d.useRef(null),j=Et(s,m),C=rt(c),[w,b]=st({prop:u,defaultProp:x??null,onChange:y,caller:je}),[v,D]=d.useState(!1),A=Vt(h),S=lt(a),W=d.useRef(!1),[$,_]=d.useState(0);return d.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Le,A),()=>T.removeEventListener(Le,A)},[A]),e.jsx(js,{scope:a,orientation:r,dir:C,loop:l,currentTabStopId:w,onItemFocus:d.useCallback(T=>b(T),[b]),onItemShiftTab:d.useCallback(()=>D(!0),[]),onFocusableItemAdd:d.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:d.useCallback(()=>_(T=>T-1),[]),children:e.jsx(pe.div,{tabIndex:v||$===0?-1:0,"data-orientation":r,...i,ref:j,style:{outline:"none",...t.style},onMouseDown:ae(t.onMouseDown,()=>{W.current=!0}),onFocus:ae(t.onFocus,T=>{const I=!W.current;if(T.target===T.currentTarget&&I&&!v){const R=new CustomEvent(Le,ys);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=S().filter(z=>z.focusable),U=M.find(z=>z.active),B=M.find(z=>z.id===w),X=[U,B,...M].filter(Boolean).map(z=>z.ref.current);ht(X,f)}}W.current=!1}),onBlur:ae(t.onBlur,()=>D(!1))})})}),mt="RovingFocusGroupItem",ut=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:l=!1,tabStopId:c,children:u,...x}=t,y=at(),h=c||y,f=Ns(mt,a),i=f.currentTabStopId===h,m=lt(a),{onFocusableItemAdd:j,onFocusableItemRemove:C,currentTabStopId:w}=f;return d.useEffect(()=>{if(r)return j(),()=>C()},[r,j,C]),e.jsx(Oe.ItemSlot,{scope:a,id:h,focusable:r,active:l,children:e.jsx(pe.span,{tabIndex:i?0:-1,"data-orientation":f.orientation,...x,ref:s,onMouseDown:ae(t.onMouseDown,b=>{r?f.onItemFocus(h):b.preventDefault()}),onFocus:ae(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:ae(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=ks(b,f.orientation,f.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let A=m().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")A.reverse();else if(v==="prev"||v==="next"){v==="prev"&&A.reverse();const S=A.indexOf(b.currentTarget);A=f.loop?Ss(A,S+1):A.slice(S+1)}setTimeout(()=>ht(A))}}),children:typeof u=="function"?u({isCurrentTabStop:i,hasTabStop:w!=null}):u})})});ut.displayName=mt;var As={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ts(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ks(t,s,a){const r=Ts(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return As[r]}function ht(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function Ss(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Ps=dt,Is=ut,Re="Tabs",[Rs,oa]=tt(Re,[ct]),gt=ct(),[Ms,Ge]=Rs(Re),pt=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:l,defaultValue:c,orientation:u="horizontal",dir:x,activationMode:y="automatic",...h}=t,f=rt(x),[i,m]=st({prop:r,onChange:l,defaultProp:c??"",caller:Re});return e.jsx(Ms,{scope:a,baseId:at(),value:i,onValueChange:m,orientation:u,dir:f,activationMode:y,children:e.jsx(pe.div,{dir:f,"data-orientation":u,...h,ref:s})})});pt.displayName=Re;var xt="TabsList",ft=d.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...l}=t,c=Ge(xt,a),u=gt(a);return e.jsx(Ps,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:r,children:e.jsx(pe.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:s})})});ft.displayName=xt;var bt="TabsTrigger",yt=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:l=!1,...c}=t,u=Ge(bt,a),x=gt(a),y=jt(u.baseId,r),h=Nt(u.baseId,r),f=r===u.value;return e.jsx(Is,{asChild:!0,...x,focusable:!l,active:f,children:e.jsx(pe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:y,...c,ref:s,onMouseDown:ae(t.onMouseDown,i=>{!l&&i.button===0&&i.ctrlKey===!1?u.onValueChange(r):i.preventDefault()}),onKeyDown:ae(t.onKeyDown,i=>{[" ","Enter"].includes(i.key)&&u.onValueChange(r)}),onFocus:ae(t.onFocus,()=>{const i=u.activationMode!=="manual";!f&&!l&&i&&u.onValueChange(r)})})})});yt.displayName=bt;var wt="TabsContent",vt=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:l,children:c,...u}=t,x=Ge(wt,a),y=jt(x.baseId,r),h=Nt(x.baseId,r),f=r===x.value,i=d.useRef(f);return d.useEffect(()=>{const m=requestAnimationFrame(()=>i.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(Dt,{present:l||f,children:({present:m})=>e.jsx(pe.div,{"data-state":f?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":y,hidden:!m,id:h,tabIndex:0,...u,ref:s,style:{...t.style,animationDuration:i.current?"0s":void 0},children:m&&c})})});vt.displayName=wt;function jt(t,s){return`${t}-trigger-${s}`}function Nt(t,s){return`${t}-content-${s}`}var Fs=pt,Ls=ft,Es=yt,Ds=vt;function Ct({className:t,...s}){return e.jsx(Fs,{"data-slot":"tabs",className:P("flex flex-col gap-2",t),...s})}function At({className:t,...s}){return e.jsx(Ls,{"data-slot":"tabs-list",className:P("bg-muted text-muted-foreground flex h-9 items-center rounded-lg p-[3px] overflow-x-auto scrollbar-hide","[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",t),...s})}function Tt({className:t,...s}){return e.jsx(Es,{"data-slot":"tabs-trigger",className:P("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-shrink-0 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function kt({className:t,...s}){return e.jsx(Ds,{"data-slot":"tabs-content",className:P("flex-1 outline-none",t),...s})}const St=({children:t,className:s,columns:a=2,gap:r=6})=>e.jsx("div",{className:P(`grid grid-cols-1 md:grid-cols-${a} gap-${r}`,s),children:t});await nt();const Pt={israelHamasWar:[{id:1,title:"Israel-Hamas War: Complete Coverage",description:"Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments...",category:"War Coverage",publishedTime:"15 minutes ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Breaking",isFeatured:!0,imageAttribution:null,readTime:8},{id:2,title:"International Response Analysis",description:"How world leaders are responding to the escalating situation...",category:"International",publishedTime:"45 minutes ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Analysis",isFeatured:!1,imageAttribution:null,readTime:6},{id:3,title:"Civilian Impact Assessment",description:"Understanding the humanitarian crisis and civilian casualties...",category:"Humanitarian",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Critical",isFeatured:!1,imageAttribution:null,readTime:7},{id:4,title:"Military Operations Update",description:"Latest military developments and strategic movements...",category:"Military",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Update",isFeatured:!1,imageAttribution:null,readTime:5}],updates:[{id:5,title:"Latest Updates on Israel-Hamas Conflict",description:"Breaking news and developments from the ongoing situation...",category:"Breaking News",publishedTime:"30 minutes ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Live",isFeatured:!0,imageAttribution:null,readTime:5},{id:6,title:"Diplomatic Efforts Continue",description:"International leaders work toward ceasefire negotiations...",category:"Politics",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Urgent",isFeatured:!1,imageAttribution:null,readTime:4},{id:7,title:"Humanitarian Aid Distribution",description:"Relief efforts reach affected areas...",category:"Humanitarian",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Update",isFeatured:!1,imageAttribution:null,readTime:3},{id:8,title:"Security Council Meeting",description:"UN discusses resolution proposals...",category:"International",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Official",isFeatured:!1,imageAttribution:null,readTime:6}],whatWeKnow:[{id:9,title:"Timeline of Recent Events",description:"Comprehensive overview of key developments...",category:"Analysis",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Complete",isFeatured:!1,imageAttribution:null,readTime:8},{id:10,title:"Key Players and Positions",description:"Understanding the main parties involved...",category:"Analysis",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Detailed",isFeatured:!1,imageAttribution:null,readTime:7},{id:11,title:"Historical Context",description:"Background information to understand current events...",category:"Background",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Essential",isFeatured:!1,imageAttribution:null,readTime:10},{id:12,title:"Regional Analysis",description:"Understanding regional implications and effects...",category:"Regional",publishedTime:"7 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Important",isFeatured:!1,imageAttribution:null,readTime:6}],maps:[{id:13,title:"Regional Map Overview",description:"Interactive maps showing affected areas...",category:"Geographic",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Interactive",isFeatured:!1,imageAttribution:null,readTime:2},{id:14,title:"Strategic Locations",description:"Key points of interest in the conflict zone...",category:"Strategic",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Important",isFeatured:!1,imageAttribution:null,readTime:4},{id:15,title:"Border Areas Analysis",description:"Detailed view of border regions and checkpoints...",category:"Border",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Detailed",isFeatured:!1,imageAttribution:null,readTime:5},{id:16,title:"Population Centers",description:"Major cities and population centers in the region...",category:"Demographics",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Reference",isFeatured:!1,imageAttribution:null,readTime:3}],photos:[{id:17,title:"Photo Gallery: Recent Events",description:"Visual documentation of recent developments...",category:"Photography",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Gallery",isFeatured:!1,imageAttribution:null,readTime:5},{id:18,title:"Before and After Images",description:"Satellite imagery showing changes over time...",category:"Documentation",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Comparison",isFeatured:!1,imageAttribution:null,readTime:3},{id:19,title:"Ground Reports in Pictures",description:"On-ground photography from conflict areas...",category:"Field Reports",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Exclusive",isFeatured:!1,imageAttribution:null,readTime:4},{id:20,title:"Humanitarian Crisis Images",description:"Visual documentation of humanitarian impact...",category:"Humanitarian",publishedTime:"8 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Critical",isFeatured:!1,imageAttribution:null,readTime:6}],tunnels:[{id:21,title:"Underground Infrastructure",description:"Investigation into tunnel networks...",category:"Investigation",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Exclusive",isFeatured:!1,imageAttribution:null,readTime:7},{id:22,title:"Security Implications",description:"Analysis of underground threats...",category:"Security",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Analysis",isFeatured:!1,imageAttribution:null,readTime:6},{id:23,title:"Construction Methods",description:"How these underground networks are built...",category:"Technical",publishedTime:"8 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Technical",isFeatured:!1,imageAttribution:null,readTime:8},{id:24,title:"Detection Technologies",description:"Methods used to detect underground tunnels...",category:"Technology",publishedTime:"10 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Innovation",isFeatured:!1,imageAttribution:null,readTime:5}],oneImage:[{id:25,title:"The Story in One Image",description:"Powerful photography that captures the moment...",category:"Photo Story",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Featured",isFeatured:!0,imageAttribution:null,readTime:2},{id:26,title:"Iconic Moment Captured",description:"Single frame that tells the entire story...",category:"Iconic",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Powerful",isFeatured:!1,imageAttribution:null,readTime:3},{id:27,title:"Symbolic Representation",description:"Image that represents the broader conflict...",category:"Symbolic",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Symbolic",isFeatured:!1,imageAttribution:null,readTime:4},{id:28,title:"Historical Moment",description:"Capturing history as it unfolds...",category:"Historical",publishedTime:"7 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Historic",isFeatured:!1,imageAttribution:null,readTime:3}]},It=[{key:"israelHamasWar",label:"Israel-Hamas War",isDefault:!0},{key:"updates",label:"Updates"},{key:"whatWeKnow",label:"What We Know"},{key:"maps",label:"Maps"},{key:"photos",label:"Photos"},{key:"tunnels",label:"The Tunnels of Gaza"},{key:"oneImage",label:"The War in One Image"}],_s=t=>{const s="grid gap-2 md:gap-4";switch(t){case 2:return`${s} grid-cols-1 sm:grid-cols-2`;case 3:return`${s} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:default:return`${s} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 `}},Us=({className:t,dynamicTabsData:s,dynamicTabsConfig:a,newsReactions:r={},onPostLove:l,onPostComment:c})=>{const u=s||Pt,x=a||It,y=x.find(h=>h.isDefault)?.key||x[0]?.key;return e.jsx("div",{className:`w-full ${t}`,children:e.jsxs(Ct,{defaultValue:y,className:"w-full",children:[e.jsx(At,{className:"flex gap-2 items-center mb-5 p-1 bg-transparent md:mx-auto overflow-x-auto",children:x.map(h=>e.jsx(Tt,{value:h.key,className:"data-[state=active]:h-11 cursor-pointer rounded-md data-[state=active]:py-3 data-[state=active]:px-4 text-custom-gray data-[state=active]:text-black data-[state=active]:font-bold data-[state=active]:bg-[#F2F2F2] hover:text-black whitespace-nowrap",children:h.label},h.key))}),x.map(h=>{const f=u[h.key]||[],i=_s(h.columns||4);return e.jsxs(kt,{value:h.key,className:"mt-0",children:[e.jsx(St,{columns:h.columns||4,gap:h.gap||4,className:i,children:f.map(m=>e.jsx(ue,{article:m,reactions:r[m.id]||[],onPostLove:j=>l(m.id,j),onPostComment:j=>c(m.id,j),className:"bg-white border border-gray-200 hover:shadow-lg transition-shadow duration-200"},m.id))}),f.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No articles available for this section."}),e.jsx("p",{className:"text-sm mt-2",children:"Please check back later for updates."})]})]},h.key)})]})})},Os=({attribution:t,className:s})=>t?e.jsx("div",{className:P("text-xs text-gray-500 mt-1",s),children:t}):null,Xe=({article:t,className:s,layout:a="horizontal",reactions:r=[],onPostLove:l,onPostComment:c})=>{const[u,x]=d.useState(!1),y=a==="horizontal",{isLoggedIn:h,user:f}=ye(),[i,m]=d.useState(!1),[j,C]=d.useState("signin"),[w,b]=d.useState(!1),v=He(r),D=Be(r),A=Ve(r),S=We(r,f?.id),{id:W,title:$,description:_,category:T,publishedTime:I,publishedDateTime:R,image:M,sentiment:U,source:B,author:ne,tags:X,isFeatured:z,imageAttribution:K,readTime:le,url:q}=t||{},Q=Te(_),he=_&&_.length>120,n=N=>{if(!N)return"";try{const E=new Date(N),V=new Date,F=Math.floor((V-E)/(1e3*60*60));return F<1?"Just now":F<24?`${F}h ago`:F<48?"Yesterday":E.toLocaleDateString("en-US",{month:"short",day:"numeric",year:E.getFullYear()!==V.getFullYear()?"numeric":void 0})}catch{return""}},p=()=>{if(!h){C("signin"),m(!0);return}x(!u)},o=()=>{if(!h){C("signin"),m(!0);return}b(!w)},g=async N=>{if(!h){C("signin"),m(!0);return}try{await l?.(N)}catch(E){console.error("Failed to post love reaction:",E)}},J=async N=>{if(!h){C("signin"),m(!0);return}try{await c?.(N)}catch(E){throw console.error("Failed to post comment:",E),E}},ee=()=>{C("signin"),m(!0)},k=N=>{q&&(N.preventDefault(),window.open(q,"_blank","noopener,noreferrer"))};return e.jsxs(e.Fragment,{children:[u&&e.jsxs(ve,{children:[e.jsx("title",{children:$||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:_?Te(_):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:$||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:_?Te(_):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:M||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("article",{className:P("overflow-hidden pb-4 sm:pb-6 lg:pb-8",s),children:[e.jsxs("div",{className:P("flex flex-col-reverse gap-4 sm:gap-6",y&&!u&&M&&"lg:flex-row lg:items-start lg:gap-8 xl:gap-10",u&&"flex-col-reverse gap-4 sm:gap-6"),children:[e.jsxs("div",{className:P("flex flex-col w-full",y&&!u&&M&&"lg:w-2/5 xl:w-1/3",u&&"w-full"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3 flex-wrap gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 flex-wrap",children:[B&&e.jsx("button",{onClick:k,className:"font-medium text-blue-600 hover:text-blue-800 transition-colors cursor-pointer",children:B}),B&&(R||I)&&e.jsx("span",{className:"text-gray-300",children:"•"}),(R||I)&&e.jsx("time",{className:"text-gray-500",children:n(R||I)}),ne&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:["By ",ne]})]}),T&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:T.toUpperCase()})]})]})}),e.jsx(ze,{sentiment:U,className:"mb-3 sm:mb-4 w-full"}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4 leading-tight",children:[$,z&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"FEATURED"})]}),e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:[u?_:Q,!u&&he&&"... ",he&&e.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-800 cursor-pointer text-sm sm:text-base font-medium mt-2 transition-colors duration-200 focus:outline-none focus:underline inline-flex items-center gap-1",children:u?e.jsxs(e.Fragment,{children:["Read less",e.jsx(Wt,{className:"w-4 h-4 mt-1"})]}):e.jsxs(e.Fragment,{children:["Read more",e.jsx(_t,{className:"w-4 h-4 mt-1"})]})})]})}),X&&X.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[X.slice(0,4).map((N,E)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors cursor-pointer",children:["#",N]},E)),X.length>4&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium text-gray-500",children:["+",X.length-4," more"]})]}),y&&e.jsx("div",{className:"flex flex-col justify-between w-full",children:e.jsx("div",{className:"w-full flex justify-between items-center mt-2 sm:mt-3",children:e.jsx("div",{children:e.jsx(ke,{onCommentClick:o,onLoveClick:g,showCommentsCount:A,isLoved:S,loveCount:D,isLoggedIn:h,onAuthRequired:ee})})})})]}),M&&e.jsxs("div",{className:P("relative w-full order-1 md:order-2 flex flex-col items-end",y&&!u&&"lg:w-2/3",u&&"w-full"),children:[e.jsxs("div",{className:"relative overflow-hidden w-full rounded-lg sm:rounded-none flex justify-end items-center",children:[e.jsx("img",{src:M,alt:$,className:P("w-full object-cover transition-transform duration-300 hover:scale-105",!u&&"h-56 sm:h-96 md:h-96 lg:h-96 xl:h-[28rem]",u&&"h-56 sm:h-96 md:h-96 lg:h-[36rem] xl:h-[44rem]"),loading:"lazy"}),e.jsx("div",{className:"absolute bottom-3 left-3 bg-black/50 backdrop-blur-sm rounded-md px-2 py-1",children:e.jsx(it,{type:"readTime",value:le||I,className:"text-xs sm:text-sm text-white"})}),K&&e.jsx("div",{className:"absolute bottom-3 right-3 bg-black/50 backdrop-blur-sm rounded-md px-2 py-1",children:e.jsx(Os,{attribution:K,className:"text-xs sm:text-sm text-white"})})]}),!y&&e.jsx("div",{className:"flex flex-col justify-between w-full",children:e.jsxs("div",{className:"w-full flex justify-between items-center mt-2 sm:mt-3",children:[z&&e.jsx("div",{children:e.jsx(ke,{onCommentClick:o,onLoveClick:g,showCommentsCount:A,isLoved:S,loveCount:D,disabled:!h})}),!z&&e.jsx("div",{className:""})]})})]})]}),w&&e.jsx($e,{comments:v,onPostComment:J,disabled:!h,allComments:r}),e.jsx(Ie,{isOpen:i,onClose:()=>m(!1),initialMode:j})]})]})},$s=t=>({columns:4,gap:4}),zs=({className:t,dynamicTabsData:s,dynamicTabsConfig:a,newsReactions:r={},onPostLove:l,onPostComment:c})=>{const u=s||Pt,x=a||It,y=x.find(h=>h.isDefault)?.key||x[0]?.key;return e.jsx("div",{className:`w-full ${t}`,children:e.jsxs(Ct,{defaultValue:y,className:"w-full",children:[e.jsx(At,{className:"flex items-center justify-start gap-2 md:gap-8 p-0 bg-transparent border-none h-auto overflow-x-auto",children:x.map(h=>e.jsx(Tt,{value:h.key,className:"px-2 py-1 cursor-pointer text-base font-normal focus-visible:border-none focus-visible:outline-0 !shadow-none data-[state=active]:!shadow-none text-gray-600 bg-transparent border-none hover:text-black data-[state=active]:bg-transparent data-[state=active]:text-black data-[state=active]:font-bold transition-all duration-200 whitespace-nowrap",children:h.label},h.key))}),x.map(h=>{const f=u[h.key]||[],i=$s();return e.jsxs(kt,{value:h.key,className:"mt-0",children:[e.jsx(St,{columns:i.columns,gap:i.gap,className:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:f.map(m=>e.jsx(ue,{article:m,reactions:r[m.id]||[],onPostLove:j=>l(m.id,j),onPostComment:j=>c(m.id,j),className:"bg-white border border-gray-200 hover:shadow-lg transition-shadow duration-200"},m.id))}),f.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No articles available for this section."}),e.jsx("p",{className:"text-sm mt-2",children:"Please check back later for updates."})]})]},h.key)})]})})};var Rt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qe=ie.createContext&&ie.createContext(Rt),Hs=["attr","size","title"];function Bs(t,s){if(t==null)return{};var a=Vs(t,s),r,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(l=0;l<c.length;l++)r=c[l],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Vs(t,s){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Se.apply(this,arguments)}function Je(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),a.push.apply(a,r)}return a}function Pe(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Je(Object(a),!0).forEach(function(r){Ws(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Ws(t,s,a){return s=Gs(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Gs(t){var s=Ys(t,"string");return typeof s=="symbol"?s:s+""}function Ys(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,s);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Mt(t){return t&&t.map((s,a)=>ie.createElement(s.tag,Pe({key:a},s.attr),Mt(s.child)))}function Ks(t){return s=>ie.createElement(qs,Se({attr:Pe({},t.attr)},s),Mt(t.child))}function qs(t){var s=a=>{var{attr:r,size:l,title:c}=t,u=Bs(t,Hs),x=l||a.size||"1em",y;return a.className&&(y=a.className),t.className&&(y=(y?y+" ":"")+t.className),ie.createElement("svg",Se({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,u,{className:y,style:Pe(Pe({color:t.color||a.color},a.style),t.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),c&&ie.createElement("title",null,c),t.children)};return Qe!==void 0?ie.createElement(Qe.Consumer,null,a=>s(a)):s(Rt)}function Zs(t){return Ks({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"},child:[]}]})(t)}const Xs=()=>{const t=[{title:"News"},{title:"About Us"},{title:"Home"},{title:"Make Advertise"}],s=[{title:"Terms and Conditions"},{title:"Privacy Policy"}],a=["Breaking News","Politics","Business","Technology","Sports","Etc. all"];return e.jsxs("section",{className:"flex flex-col w-full lg:flex-row items-start justify-between gap-6 xl:gap-32 p-4 sm:p-6 md:p-8 lg:p-10 bg-[#00254a]",children:[e.jsxs("div",{className:"flex flex-col w-full lg:w-1/2 items-start gap-4 md:gap-6 lg:gap-10",children:[e.jsx("h1",{className:"self-stretch font-bold text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl tracking-[0] leading-tight lg:leading-[78px] font-sans",children:"ALAMOCITYPULSE"}),e.jsxs("div",{className:"flex flex-col w-full items-start gap-2.5",children:[e.jsx("h2",{className:"self-stretch font-semibold text-white text-base sm:text-lg font-sans",children:"Alamocitypulse is a news/blog site that covers local San Antonio news, whether it's new businesses, events, town fairs, we cover it."}),e.jsx("p",{className:"self-stretch font-normal text-gray-300 text-sm md:text-base tracking-[0] leading-6 font-sans",children:"We also cover the negative side of news globally. Our primary source of income is coming from paid advertising on our site and memberships. You can pay to have anything as an ad on the site for whatever amount agreed upon. The daily membership allows you to comment and interact with everyone on the site as free accounts don't allow you to."})]}),e.jsx("div",{className:"hidden w-full sm:w-80 lg:w-[304px]",children:e.jsxs("button",{className:"w-full h-12 sm:h-14 cursor-pointer rounded-xl border-[0.5px] border-solid border-white bg-transparent text-white text-lg sm:text-xl font-normal flex justify-between items-center px-4 sm:px-5 hover:bg-white hover:text-[#00254a] transition-colors",children:[e.jsx("div",{children:"Reach Out"}),e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#00254a]"})})]})})]}),e.jsxs("div",{className:"flex flex-col w-full lg:w-1/2 items-start gap-4 lg:gap-[23px]",children:[e.jsx("div",{className:"hidden xl:flex self-stretch w-full h-8  md:h-12 lg:h-20 bg-transparent"}),e.jsx(Ut,{className:"w-full bg-transparent border-none shadow-none",children:e.jsxs(Ot,{className:"flex flex-col items-start justify-end gap-4 sm:gap-6 p-0 pt-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row w-full items-start justify-between gap-6 sm:gap-4 lg:gap-8",children:[e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"Resources"}),e.jsx("div",{className:"flex flex-col items-start gap-2 sm:gap-3",children:t.map((r,l)=>e.jsx("a",{href:"#",className:"font-normal text-white text-sm lg:text-base tracking-[0] leading-normal font-sans hover:text-gray-300 transition-colors",children:r.title},l))})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"JETSTRATIX"}),e.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:s.map((r,l)=>e.jsx("a",{href:"#",className:"font-normal text-white text-sm lg:text-base racking-[0] leading-[21px] font-sans hover:text-gray-300 transition-colors",children:r.title},l))})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"Category"}),e.jsx("div",{className:"font-normal text-white text-sm lg:text-base tracking-[0] leading-[20px] sm:leading-[27.2px] font-sans",children:a.map((r,l)=>e.jsxs(ie.Fragment,{children:[e.jsx("a",{href:"#",className:"hover:text-gray-300 transition-colors",children:r}),l<a.length-1&&e.jsx("br",{})]},l))})]})]}),e.jsxs("div",{className:"hidden items-center justify-center sm:justify-start gap-3 sm:gap-4 lg:gap-5 flex-wrap w-full",children:[e.jsx("button",{className:"flex items-center cursor-pointer text-white justify-center p-2 sm:p-2.5 bg-[#094A8B] rounded-full border-none hover:bg-[#0a5aa0] transition-colors",children:e.jsx(Jt,{size:14,className:"sm:w-4 sm:h-4",color:"#fdfdfd",strokeWidth:3})}),e.jsx("button",{className:"flex items-center cursor-pointer text-white justify-center p-2 sm:p-2.5 bg-[#094A8B] rounded-full border-none hover:bg-[#0a5aa0] transition-colors",children:e.jsx(is,{size:14,className:"sm:w-4 sm:h-4",color:"#fdfdfd",strokeWidth:3})}),e.jsx("button",{className:"flex items-center cursor-pointer text-white justify-center p-2 sm:p-2.5 bg-[#094A8B] rounded-full border-none hover:bg-[#0a5aa0] transition-colors",children:e.jsx(cs,{size:14,className:"sm:w-4 sm:h-4",color:"#fdfdfd",strokeWidth:3})}),e.jsx("button",{className:"flex items-center cursor-pointer text-white justify-center p-2 sm:p-2.5 bg-[#094A8B] rounded-full border-none hover:bg-[#0a5aa0] transition-colors",children:e.jsx(Xt,{size:14,className:"sm:w-4 sm:h-4",color:"#fdfdfd",strokeWidth:3})}),e.jsx("button",{className:"flex items-center cursor-pointer text-white justify-center p-2 sm:p-2.5 bg-[#094A8B] rounded-full border-none hover:bg-[#0a5aa0] transition-colors",children:e.jsx(Zs,{size:14,className:"sm:w-4 sm:h-4"})})]})]})})]})]})},Qs=({error:t})=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading News"}),e.jsx("p",{className:"text-gray-600",children:t}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}),et=({advertisement:t,width:s="100%",height:a="200px",position:r="center",onHide:l,className:c=""})=>{const[u,x]=d.useState(!0),[y,h]=d.useState(0),[f,i]=d.useState(!1);d.useEffect(()=>{if(!t?.imageUrls||t.imageUrls.length<=1)return;const w=setInterval(()=>{f||h(b=>(b+1)%t.imageUrls.length)},1e4);return()=>clearInterval(w)},[t?.imageUrls,f]);const m=()=>{x(!1),l&&l(t?.id)},j=()=>{t?.url&&window.open(t.url,"_blank","noopener,noreferrer")};if(!u||!t)return null;if(!t.imageUrls||t.imageUrls.length===0)return e.jsxs("div",{className:`bg-gray-300 rounded-lg flex items-center justify-center relative group ${c}`,style:{width:s,height:a},children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Advertisement Space"}),e.jsx("button",{onClick:m,className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70",title:"Hide advertisement",children:e.jsx(be,{size:12})})]});const C=t.imageUrls.length>1;return e.jsxs("div",{className:`relative rounded-lg overflow-hidden group cursor-pointer transition-transform duration-200 hover:scale-[1.02] group-hover:shadow-lg ${c}`,style:{width:s,height:a},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:j,children:[e.jsx("div",{className:"absolute top-0 left-0 bg-gray-800 text-red-500 text-xs px-2 py-1 rounded-br z-10",children:"Ads"}),e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${y*100}%)`},children:t.imageUrls.map((w,b)=>e.jsx("img",{src:w,alt:`${t.title||"Advertisement"} ${b+1}`,className:"w-full h-full object-cover flex-shrink-0",onError:v=>{v.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOWNhM2FmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+QWQ8L3RleHQ+PC9zdmc+"}},b))})}),t.url&&e.jsx("div",{className:"absolute top-2 right-8 z-10",children:e.jsx("div",{className:"bg-black bg-opacity-50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx(_e,{size:12})})}),e.jsx("button",{onClick:w=>{w.stopPropagation(),m()},"aria-label":"Hide advertisement",className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70 z-10",children:e.jsx(be,{size:12})}),C&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-10",children:t.imageUrls.map((w,b)=>e.jsx("button",{onClick:v=>{v.stopPropagation(),h(b)},className:`w-2 h-2 rounded-full transition-colors duration-200 ${b===y?"bg-white":"bg-white/50"}`},b))})]})},Ae=({advertisements:t=[],position:s="center",width:a="100%",height:r="200px",className:l="",maxAds:c=1})=>{const[u,x]=d.useState(new Set),y=i=>{x(m=>new Set(m).add(i))},f=(()=>{let i=t.filter(m=>!u.has(m.id));switch(i=i.sort((m,j)=>m.id-j.id),s){case"center":return i.slice(0,c);case"sidebar-top":return i.slice(0,c);case"sidebar-mid":return i.slice(Math.min(1,i.length),Math.min(1,i.length)+c);case"sidebar-bottom":return i.slice(Math.min(2,i.length),Math.min(2,i.length)+c);case"bottom":return i.slice(Math.min(3,i.length),Math.min(3,i.length)+c);case"mobile-top":return i.slice(0,c);case"mobile-mid":return i.slice(Math.min(1,i.length),Math.min(1,i.length)+c);default:return i.slice(0,c)}})();return t.length===0||f.length===0?e.jsx(et,{advertisement:null,width:a,height:r,position:s,className:l}):e.jsx("div",{className:`space-y-4 ${l}`,children:f.map((i,m)=>e.jsx(et,{advertisement:i,width:a,height:r,position:s,onHide:y},`${i.id}-${s}-${m}`))})},Js=({advertisement:t,format:s="card",onHide:a,onView:r,className:l=""})=>{const[c,u]=d.useState(0),[x,y]=d.useState(!1),[h,f]=d.useState(!1);d.useEffect(()=>{if(!h&&r){const w=setTimeout(()=>{r(t.id),f(!0)},1e3);return()=>clearTimeout(w)}},[h,r,t.id]),d.useEffect(()=>{if(t.imageUrls.length>1&&!x){const w=setInterval(()=>{u(b=>(b+1)%t.imageUrls.length)},4e3);return()=>clearInterval(w)}},[t.imageUrls.length,x]);const i=()=>{t.url&&window.open(t.url,"_blank","noopener,noreferrer")},m=w=>{w.stopPropagation(),u(b=>(b+1)%t.imageUrls.length)},j=w=>{w.stopPropagation(),u(b=>b===0?t.imageUrls.length-1:b-1)},C=w=>{w.stopPropagation(),a&&a(t.id)};return s==="banner"?e.jsxs("div",{className:`relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-md ${l}`,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:i,children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Sponsored"})}),e.jsx("button",{onClick:C,className:"absolute top-2 right-2 z-10 p-1.5 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70",title:"Hide this ad",children:e.jsx(be,{size:14})}),e.jsxs("div",{className:"flex h-24 sm:h-28",children:[e.jsxs("div",{className:"relative w-32 sm:w-40 flex-shrink-0",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover",onError:w=>{w.target.src="https://images.pexels.com/photos/1779487/pexels-photo-1779487.jpeg?auto=compress&cs=tinysrgb&w=400"}}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.imageUrls.slice(0,3).map((w,b)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${b===c?"bg-white":"bg-white/50"}`},b))})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-4 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1 mb-1",children:t.title}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2 mb-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(Fe,{size:12}),e.jsx("span",{children:t.category})]}),e.jsxs("div",{className:"flex items-center text-blue-600 text-xs font-medium group-hover:text-blue-700",children:[e.jsx("span",{className:"mr-1",children:"Learn More"}),e.jsx(_e,{size:12})]})]})]})]})]}):s==="sidebar"?e.jsxs("div",{className:`relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-md w-full ${l}`,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:i,children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Ad"})}),e.jsx("button",{onClick:C,className:"absolute top-2 right-2 z-10 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Hide this ad",children:e.jsx(be,{size:12})}),e.jsxs("div",{className:"relative h-32",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover",onError:w=>{w.target.src="https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=400"}}),t.imageUrls.length>1&&x&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"absolute left-1 top-1/2 transform -translate-y-1/2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70",children:e.jsx(Ee,{size:12})}),e.jsx("button",{onClick:m,className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70",children:e.jsx(De,{size:12})})]}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.imageUrls.map((w,b)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${b===c?"bg-white":"bg-white/50"}`},b))})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm line-clamp-2 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-xs line-clamp-2 mb-3",children:t.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Fe,{size:10,className:"mr-1"}),t.category]})}),e.jsx("button",{className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium py-2 rounded-md transition-colors duration-200",children:"Visit Now"})]})]}):e.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${l}`,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:i,children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-lg",children:"Sponsored"})}),e.jsx("button",{onClick:C,className:"absolute top-3 right-3 z-10 p-2 bg-black bg-opacity-30 backdrop-blur-sm text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-opacity-50",title:"Hide this ad",children:e.jsx(be,{size:16})}),e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:w=>{w.target.src="https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=600"}}),t.imageUrls.length>1&&x&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2",children:[e.jsx("button",{onClick:j,className:"p-2 bg-black bg-opacity-50 backdrop-blur-sm text-white rounded-full hover:bg-opacity-70 transition-all duration-200",children:e.jsx(Ee,{size:16})}),e.jsx("button",{onClick:m,className:"p-2 bg-black bg-opacity-50 backdrop-blur-sm text-white rounded-full hover:bg-opacity-70 transition-all duration-200",children:e.jsx(De,{size:16})})]}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.imageUrls.map((w,b)=>e.jsx("button",{onClick:v=>{v.stopPropagation(),u(b)},className:`w-2 h-2 rounded-full transition-all duration-200 ${b===c?"bg-white scale-110":"bg-white/60 hover:bg-white/80"}`},b))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/30 to-transparent"})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Fe,{size:12,className:"mr-1"}),t.category]})}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors duration-200",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.user?.split("@")[0]||"Advertiser"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 transform group-hover:scale-105 shadow-md",children:[e.jsx("span",{className:"mr-2",children:"Learn More"}),e.jsx(_e,{size:14})]})]})]})]})},ea=({advertisements:t=[],position:s="center",format:a="card",maxAds:r=1,className:l="",onAdView:c})=>{const[u,x]=d.useState(new Set),y=i=>{x(m=>new Set(m).add(i))},h=d.useMemo(()=>{const i=t.filter(m=>m.status==="approved"&&!u.has(m.id)).sort((m,j)=>(j.views||0)-(m.views||0));switch(s){case"center":return i.slice(0,r);case"sidebar-top":return i.slice(0,r);case"sidebar-mid":return i.slice(1,1+r);case"sidebar-bottom":return i.slice(2,2+r);case"bottom":return i.slice(3,3+r);case"mobile-top":return i.slice(0,r);case"mobile-mid":return i.slice(1,1+r);default:return i.slice(0,r)}},[t,u,s,r]);if(h.length===0)return e.jsx("div",{className:`text-center py-8 ${l}`,children:e.jsx("div",{className:"text-gray-400 text-sm",children:"No advertisements available"})});const f=()=>{switch(a){case"banner":return"space-y-3";case"sidebar":return"space-y-4";case"card":return r>1?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"flex justify-center";default:return"space-y-4"}};return e.jsx("div",{className:`${f()} ${l}`,children:h.map((i,m)=>e.jsx(Js,{advertisement:i,format:a,onHide:y,onView:c,className:a==="card"&&r===1?"max-w-sm mx-auto":""},`${i.id}-${s}-${m}`))})},me=({advertisements:t,placement:s,onAdView:a,className:r=""})=>{const c=(()=>{switch(s){case"header-banner":return{format:"banner",position:"center",maxAds:1,containerClass:"w-full max-w-4xl mx-auto mb-6"};case"content-top":return{format:"card",position:"center",maxAds:1,containerClass:"w-full max-w-sm mx-auto my-8"};case"content-middle":return{format:"banner",position:"center",maxAds:1,containerClass:"w-full max-w-3xl mx-auto my-8"};case"content-bottom":return{format:"card",position:"bottom",maxAds:1,containerClass:"w-full max-w-4xl mx-auto mt-8"};case"sidebar":return{format:"sidebar",position:"sidebar-top",maxAds:1,containerClass:"w-full max-w-xs"};case"footer":return{format:"banner",position:"bottom",maxAds:1,containerClass:"w-full max-w-6xl mx-auto"};default:return{format:"card",position:"center",maxAds:1,containerClass:"w-full"}}})();return e.jsx("div",{className:`${c.containerClass} ${r}`,children:e.jsx(ea,{advertisements:t,format:c.format,position:c.position,maxAds:c.maxAds,onAdView:a})})},{getAllPublicAdvertisements:ta}=await $t(async()=>{const{getAllPublicAdvertisements:t}=await import("./index-D-7Uf-X6.js").then(s=>s.a1);return{getAllPublicAdvertisements:t}},__vite__mapDeps([0,1]));function ia(){const[t,s]=d.useState([]),[a,r]=d.useState(!1),l=d.useRef(null),[c,u]=d.useState(""),[x,y]=d.useState([]),[h,f]=d.useState(!1),[i,m]=d.useState(1),[j,C]=d.useState(1),[w,b]=d.useState(0),[v,D]=d.useState({sections:[],loading:!0,error:null}),[A,S]=d.useState({}),[W,$]=d.useState({}),_=d.useCallback(sa(async n=>{if(!n.trim()){f(!1),y([]);return}f(!0);try{const p=await ds({search_term:n}),g=(Array.isArray(p)?p:p.results||[]).map(Ye);y(g),await ne(g.slice(0,10))}catch(p){console.error("Search failed:",p),y([])}},300),[]),T=d.useCallback(async()=>{try{r(!0);const n=await ta();n.success?s(n.data||[]):(console.error("Failed to fetch advertisements:",n.error),s([]))}catch(n){console.error("Error fetching advertisements:",n),s([])}finally{r(!1)}},[]),I=d.useCallback(async(n=1)=>{try{D(N=>({...N,loading:!0}));const p=await nt(n,50);let o,g={};if(p.results)o=p.results,g={count:p.count||0,next:p.next,previous:p.previous};else if(Array.isArray(p))o=p,g={count:p.length,next:null,previous:null};else throw new Error("Invalid response format");if(!o||o.length===0)throw new Error("No news data received");const J=o.map(Ye).filter(N=>N&&N.id).sort((N,E)=>new Date(E.publishedDateTime)-new Date(N.publishedDateTime));m(n),b(g.count||0),C(Math.ceil((g.count||0)/50));const ee=xe([...J],1,!0),k=X(ee);D({sections:k,loading:!1,error:null}),ne(J.slice(0,15))}catch(p){console.error("Failed to fetch news:",p),D(o=>({...o,loading:!1,error:p.message}))}},[]),R=d.useCallback(async n=>{if(!W[n])try{$(o=>({...o,[n]:!0}));const p=await us(n);S(o=>({...o,[n]:p}))}catch(p){console.error(`Failed to fetch reactions for news ${n}:`,p)}finally{$(p=>({...p,[n]:!1}))}},[W]),M=d.useCallback(async(n,p)=>{try{const o=await hs(n,p);return S(g=>({...g,[n]:g[n]?[...g[n],o]:[o]})),await R(n),o}catch(o){throw console.error(`Failed to post love reaction for news ${n}:`,o),o}},[R]),U=d.useCallback(async(n,p)=>{try{if(!p||p.trim()==="")throw new Error("Comment cannot be empty");const o=await gs(n,p.trim());return S(g=>({...g,[n]:g[n]?[...g[n],o]:[o]})),await R(n),o}catch(o){throw console.error(`Failed to post comment for news ${n}:`,o),o}},[R]),B=d.useCallback(async(n,p)=>{try{const o=[];p.hasOwnProperty("love")&&o.push(M(n,p.love)),p.comment&&p.comment.trim()!==""&&o.push(U(n,p.comment));const g=await Promise.all(o);return g.length>0?g[g.length-1]:null}catch(o){throw console.error(`Failed to post reaction for news ${n}:`,o),o}},[M,U]);d.useEffect(()=>{(async()=>{try{D(g=>({...g,loading:!0})),S({}),$({});const[p,o]=await Promise.allSettled([I(1),T()]);if(p.status==="rejected")throw new Error(p.reason?.message||"Failed to fetch news")}catch(p){console.error("Failed to fetch initial data:",p),D(o=>({...o,loading:!1,error:p.message}))}})()},[I,T]);const ne=d.useCallback(async n=>{const p=n.filter(g=>g&&g.id),o=3;for(let g=0;g<p.length;g+=o){const ee=p.slice(g,g+o).map(k=>R(k.id).catch(N=>console.warn(`Failed to fetch reactions for article ${k.id}:`,N)));await Promise.allSettled(ee),g+o<p.length&&await new Promise(k=>setTimeout(k,200))}},[R]),X=d.useMemo(()=>n=>{const p=[];let o=[...n];const g=new Set;if(!n||n.length===0)return console.warn("No news articles provided to organizeNewsData"),p;if(o=o.filter(O),o.length===0)return console.warn("No valid news articles after filtering"),p;const J=Math.min(3,Math.ceil(o.length/20));for(let ee=0;ee<J&&o.length>10;ee++){const k={},N=xe([...o],0),E=L=>{const H=[];let ge=0;const te=Math.min(L*2,N.length);for(;H.length<L&&N.length>0&&ge<te;){const se=Math.floor(Math.random()*N.length),G=N[se];if(O(G)&&!g.has(G.id)){H.push(G),g.add(G.id),N.splice(se,1);const Y=o.findIndex(Ne=>O(Ne)&&Ne.id===G.id);Y>-1&&o.splice(Y,1)}else se<N.length&&N.splice(se,1);ge++}return H},V=E(1);k.featuredArticle=V.length>0?V[0]:null;const F=E(1),Z=F.length>0?F[0]:null;k.audioNews=Z?{title:Z.title||"Latest News Update",description:Z.description||"Stay updated with the latest news",category:"THE HEADLINES",sentiment:Z.sentiment||"Neutral",image:Z.image||fe()}:null;const ce=E(1);k.longReadArticle=ce.length>0?ce[0]:null;const oe=E(4);k.liveUpdates=oe.filter(O).map(L=>({id:L.id,title:L.title||"Untitled",description:L.description||"",timeAgo:L.publishedTime||"Recently",category:L.category||"News",image:L.image||fe()}));const Me=E(6);k.sidebarArticles=Me.filter(O),k.tabsData={};const de=o.filter(L=>O(L)&&!g.has(L.id)),Ft=(L,H)=>{if(!H)return!0;const ge=L.category.toLowerCase(),te=L.title.toLowerCase(),se=L.description.toLowerCase();return H.some(G=>ge.includes(G.toLowerCase())||te.includes(G.toLowerCase())||se.includes(G.toLowerCase()))};Ue.forEach(L=>{let H=[];if(L.categoryFilter){if(H=[...de.filter(te=>O(te)?Ft(te,L.categoryFilter):!1).slice(0,L.count)],H.length<L.count){const te=new Set(H.map(Y=>Y.id)),se=xe(de.filter(Y=>O(Y)&&!te.has(Y.id)&&!g.has(Y.id)),0),G=L.count-H.length;H=[...H,...se.slice(0,G)]}}else{const te=de.filter(Y=>O(Y)&&!g.has(Y.id)).sort((Y,Ne)=>{const Lt=new Date(Y.publishedDateTime||0);return new Date(Ne.publishedDateTime||0)-Lt}),se=te.slice(0,2),G=xe(te.slice(2),0);H=[...se,...G].slice(0,L.count)}H=H.filter(O),k.tabsData[L.key]=H}),p.push(k)}if(p.length===1&&o.length>0){const ee=o.filter(k=>O(k)&&!g.has(k.id));if(ee.length>0){const k={...p[0]},N=xe(ee,0);if(N.length>0){if(k.featuredArticle=N[0],k.sidebarArticles=N.slice(1,7).filter(O),N.length>7){const V=N[7];k.audioNews={title:V.title||"Latest News Update",description:V.description||"Stay updated with the latest news",category:"THE HEADLINES",sentiment:V.sentiment||"Neutral",image:V.image||fe()}}if(N.length>8&&(k.longReadArticle=N[8]),N.length>9){const V=N.slice(9,13);k.liveUpdates=V.filter(O).map(F=>({id:F.id,title:F.title||"Untitled",description:F.description||"",timeAgo:F.publishedTime||"Recently",category:F.category||"News",image:F.image||fe()}))}const E=N.slice(13);if(E.length>0){const V=(F,Z)=>{if(!Z)return!0;const ce=F.category.toLowerCase(),oe=F.title.toLowerCase(),Me=F.description.toLowerCase();return Z.some(de=>ce.includes(de.toLowerCase())||oe.includes(de.toLowerCase())||Me.includes(de.toLowerCase()))};Ue.forEach(F=>{let Z=[];F.categoryFilter?Z=E.filter(oe=>O(oe)?V(oe,F.categoryFilter):!1).slice(0,Math.min(F.count,4)):Z=E.sort((ce,oe)=>new Date(oe.publishedDateTime)-new Date(ce.publishedDateTime)).slice(0,Math.min(F.count,4)),k.tabsData[F.key]=Z.filter(O)})}p.push(k)}}}return p},[]),z=d.useCallback(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},[]);d.useEffect(()=>{const n=()=>z();return window.addEventListener("scrollToAbout",n),()=>window.removeEventListener("scrollToAbout",n)},[z]);const K=d.useCallback(n=>{console.log(`Ad ${n} viewed`)},[]),le=d.useCallback(()=>{if(i>1){const n=i-1;I(n),window.scrollTo({top:0,behavior:"smooth"})}},[i,I]),q=d.useCallback(()=>{if(i<j){const n=i+1;I(n),window.scrollTo({top:0,behavior:"smooth"})}},[i,j,I]),Q=d.useCallback(n=>{n!==i&&n>=1&&n<=j&&(I(n),window.scrollTo({top:0,behavior:"smooth"}))},[i,j,I]),he=()=>{const n=[];if(j<=5)for(let o=1;o<=j;o++)n.push(o);else{let o=Math.max(1,i-2),g=Math.min(j,o+5-1);g-o+1<5&&(o=Math.max(1,g-5+1)),o>1&&(n.push(1),o>2&&n.push("..."));for(let J=o;J<=g;J++)n.push(J);g<j&&(g<j-1&&n.push("..."),n.push(j))}return n};return v.loading?e.jsx(zt,{}):v.error?e.jsx(Qs,{error:v.error}):e.jsxs(e.Fragment,{children:[e.jsxs(ve,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - Latest News and Updates"}),e.jsx("meta",{name:"description",content:"Stay informed with the latest news, breaking stories, and in-depth analysis from ALAMOCITYPULSE"})]}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Ht,{onScrollToAbout:z,onSearch:_,searchTerm:c,setSearchTerm:u}),e.jsx("main",{className:"w-full mx-auto px-2 md:px-10 py-4 sm:py-8 pt-[150px] md:pt-[180px] lg:pt-[175px]",children:e.jsx("div",{className:"",children:h?e.jsxs("div",{className:"search-results",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:['Search Results for "',c,'"']}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(n=>e.jsx(ue,{article:n,reactions:A[n.id]||[],onPostReaction:p=>B(n.id,p),onPostLove:p=>M(n.id,p),onPostComment:p=>U(n.id,p)},n.id))}):e.jsx("p",{children:"No results found."}),e.jsx(Ce,{onClick:()=>{f(!1),u("")},className:"mt-4",children:"Back to Home"})]}):e.jsxs(e.Fragment,{children:[v.sections.map((n,p)=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[3fr_1fr] gap-6 xl:gap-8 mb-12",children:[e.jsxs("div",{className:"w-full",children:[n.featuredArticle&&e.jsxs("div",{className:"mb-8",children:[e.jsx(Xe,{article:n.featuredArticle,reactions:A[n.featuredArticle.id]||[],onPostReaction:o=>B(n.featuredArticle.id,o),onPostLove:o=>M(n.featuredArticle.id,o),onPostComment:o=>U(n.featuredArticle.id,o)}),e.jsx(me,{advertisements:t,placement:"header-banner",onAdView:K,className:"mb-6"})]}),n.audioNews&&e.jsx("div",{className:"mb-8",children:e.jsx(qe,{...n.audioNews})}),e.jsx("div",{className:"w-full flex text-center",children:e.jsx(me,{advertisements:t,placement:"header-banner",onAdView:K,className:"mb-6"})}),n.longReadArticle&&e.jsxs(Ze,{children:[e.jsx(Xe,{article:n.longReadArticle,reactions:A[n.longReadArticle.id]||[],onPostReaction:o=>B(n.longReadArticle.id,o),onPostLove:o=>M(n.longReadArticle.id,o),onPostComment:o=>U(n.longReadArticle.id,o)}),e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:K,className:"mb-6"})]}),Object.keys(n.tabsData).length>0&&e.jsx("div",{className:"mb-8",children:e.jsx(Us,{dynamicTabsData:n.tabsData,dynamicTabsConfig:Ke(n.tabsData),newsReactions:A,onPostLove:M,onPostComment:U})}),e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:K,className:"mb-6"}),n.liveUpdates&&n.liveUpdates.length>0&&e.jsx(e.Fragment,{children:e.jsx(Ze,{children:e.jsx(bs,{updates:n.liveUpdates,newsReactions:A,onPostLove:M,onPostComment:U})})}),Object.keys(n.tabsData).length>0&&e.jsx("div",{className:"mb-8",children:e.jsx(zs,{dynamicTabsData:n.tabsData,dynamicTabsConfig:Ke(n.tabsData),newsReactions:A,onPostLove:M,onPostComment:U})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:K,className:"mb-6"})}),n.audioNews&&e.jsx("div",{className:"mb-8",children:e.jsx(qe,{...n.audioNews})})]}),e.jsxs("aside",{className:"w-full xl:w-full",children:[n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>0&&e.jsxs("div",{className:"xl:hidden w-full mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:"Trending Now"}),e.jsxs("div",{className:"space-y-4",children:[n.sidebarArticles.filter(O).slice(0,7).map(o=>e.jsx("div",{className:"w-full",children:e.jsx(ue,{article:o,reactions:A[o.id]||[],onPostReaction:g=>B(o.id,g),onPostLove:g=>M(o.id,g),onPostComment:g=>U(o.id,g)})},o.id)),e.jsx(me,{advertisements:t,placement:"card",onAdView:K,className:"mt-8"})]})]}),e.jsx(Ae,{advertisements:t,position:"mobile-mid",width:"100%",height:"200px",className:"mb-6 xl:hidden",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>4&&e.jsx("div",{className:"xl:hidden w-full mb-6",children:e.jsx("div",{className:"space-y-4",children:n.sidebarArticles.filter(O).slice(4,10).map(o=>e.jsx("div",{className:"w-full",children:e.jsx(ue,{article:o,reactions:A[o.id]||[],onPostReaction:g=>B(o.id,g),onPostLove:g=>M(o.id,g),onPostComment:g=>U(o.id,g)})},o.id))})}),e.jsxs("div",{className:"xl:block bg-gray-200 rounded-lg p-4 sm:p-6 flex flex-col items-center",children:[e.jsx(Ae,{advertisements:t,position:"sidebar-top",width:"100%",height:"200px",className:"mb-6",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>0&&e.jsxs("div",{className:"w-full",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:"Trending Now"}),e.jsxs("div",{className:"space-y-4",children:[n.sidebarArticles.filter(O).slice(0,7).map(o=>e.jsx("div",{className:"w-full",children:e.jsx(ue,{article:o,reactions:A[o.id]||[],onPostReaction:g=>B(o.id,g),onPostLove:g=>M(o.id,g),onPostComment:g=>U(o.id,g)})},o.id)),e.jsx(me,{advertisements:t,placement:"card",onAdView:K,className:"my-6"})]})]}),e.jsx(Ae,{advertisements:t,position:"sidebar-mid",width:"100%",height:"200px",className:"my-6",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>3&&e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"space-y-4",children:n.sidebarArticles.filter(O).slice(4,10).map(o=>e.jsx("div",{className:"w-full",children:e.jsx(ue,{article:o,reactions:A[o.id]||[],onPostReaction:g=>B(o.id,g),onPostLove:g=>M(o.id,g),onPostComment:g=>U(o.id,g)})},o.id))})}),e.jsx(Ae,{advertisements:t,position:"sidebar-bottom",width:"100%",height:"192px",className:"mt-6",maxAds:1})]})]})]})},p)),j>1&&e.jsx("div",{className:"flex justify-center items-center mt-12 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{onClick:le,disabled:i===1,variant:"outline",className:"px-4 py-2",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:he().map((n,p)=>n==="..."?e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${p}`):e.jsx(Ce,{onClick:()=>Q(n),variant:i===n?"default":"outline",className:`px-3 py-2 min-w-[40px] ${i===n?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:n},n))}),e.jsx(Ce,{onClick:q,disabled:i===j,variant:"outline",className:"px-4 py-2",children:"Next"})]})})]})})})]}),e.jsx("div",{ref:l,children:e.jsx(Xs,{})})]})}function sa(t,s){let a;return function(...l){const c=()=>{clearTimeout(a),t(...l)};clearTimeout(a),a=setTimeout(c,s)}}export{ia as default};

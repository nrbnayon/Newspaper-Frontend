const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-1_wzMqc8.js","assets/index-DF08_gHH.css"])))=>i.map(i=>d[i]);
import{c as we,r as m,j as e,a as P,u as ve,b as je,d as Ne,H as Ce,g as Re,C as Ue,e as $e,f as st,P as xe,h as ie,i as Mt,k as at,l as Dt,m as Et,n as _t,o as Ut,R as $t,X as ye,E as ze,T as Ee,_ as zt,s as pe,p as U,q as Ht,N as Ot,B as fe}from"./index-1_wzMqc8.js";import{c as Bt,u as nt,a as rt,b as Vt,C as Gt}from"./index-2jflANs_.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],Wt=we("book-open-text",Yt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],qt=we("heart",Kt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Xt=we("message-circle",Zt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Jt=we("message-square",Qt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ts=we("send",es),Pe=({className:t,size:s="default",onCommentClick:a,showCommentsCount:r=0,onLoveClick:l,isLoved:c=!1,loveCount:d=0,disabled:p=!1,isLoggedIn:w=!1,onAuthRequired:x=null})=>{const h=s==="small"?16:18,o=s==="small"?"text-xs":"text-sm",[u,j]=m.useState(!1),N=async()=>{if(!u){if(!w){x?.();return}j(!0);try{await l?.(!c)}catch(f){console.error("Failed to toggle love:",f)}finally{j(!1)}}},b=()=>{if(!w){x?.();return}a?.()};return e.jsxs("div",{className:P("flex items-center space-x-4",t),children:[e.jsxs("button",{onClick:N,disabled:u,className:P("flex cursor-pointer items-center transition-all duration-200 hover:scale-105",c?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500",u&&"opacity-50 cursor-not-allowed hover:scale-100"),"aria-label":c?"Unlike this article":"Like this article",children:[e.jsx(qt,{size:h,className:P("mr-2 transition-all duration-200",c&&"fill-current animate-pulse",u&&"animate-spin")}),e.jsxs("span",{className:P(o,"font-medium"),children:[c?"Loved":"Love",d>0&&` (${d})`]})]}),e.jsxs("button",{onClick:b,className:P("flex cursor-pointer items-center text-gray-600 hover:text-blue-500 transition-all duration-200 hover:scale-105"),"aria-label":"View comments",children:[e.jsx(Xt,{size:h,className:"mr-2"}),e.jsxs("span",{className:P(o,"font-medium"),children:["Comment",r>0&&` (${r})`]})]})]})},Be=({comments:t=[],onPostComment:s,disabled:a=!1,allComments:r=[]})=>{const[l,c]=m.useState(!1),[d,p]=m.useState(""),[w,x]=m.useState(!1),[h,o]=m.useState(""),{user:u,profile:j}=ve(),N=async()=>{if(!(!d.trim()||a||w)){x(!0),o("");try{await s?.(d.trim()),p("")}catch(y){console.error("Failed to submit comment:",y),o("Failed to post comment. Please try again.")}finally{x(!1)}}},b=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),N())},f=l?t:t.slice(0,2);return e.jsxs("div",{className:"w-full mt-4 border-t pt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex gap-3",children:[u?.profilePicture?e.jsx("img",{src:`https://api.alamocitypulse.com/${u.profilePicture}`,alt:u.firstName,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center text-sm font-medium",children:u?.firstName?.slice(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:d,onChange:y=>p(y.target.value),onKeyPress:b,placeholder:a?"Please login to comment":"Write a comment...",disabled:a||w,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"}),e.jsx("button",{onClick:N,disabled:!d.trim()||a||w,className:"px-3 py-2 cursor-pointer bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:w?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(ts,{size:16})})]})]}),h&&e.jsx("div",{className:"mt-2 text-sm text-red-600 ml-11",children:h})]}),t.length>0&&e.jsx("div",{className:"ml-12 max-h-96 overflow-y-auto space-y-3",children:f.map((y,H)=>e.jsxs("div",{className:"flex gap-3",children:[y.avatar?e.jsx("img",{src:y.avatar.startsWith("/media/")?`https://api.alamocitypulse.com/${y.avatar}`:y.avatar,alt:`${y.author}'s avatar`,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-white flex items-center justify-center text-sm font-medium",children:y.author?.slice(0,2).toUpperCase()}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm text-gray-900",children:y.author}),e.jsx("span",{className:"text-xs text-gray-500",children:y.time}),y.loved&&e.jsx("span",{className:"text-xs text-red-500",children:"❤️ Loved this article"})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed break-words",children:y.content})]})})]},`comment-${y.id||H}-${y.time}`))}),t.length>2&&e.jsx("button",{onClick:()=>c(!l),className:"text-blue-600 cursor-pointer hover:text-blue-800 text-sm font-medium transition-colors duration-200 ml-11 mt-3",children:l?"Show fewer comments":`See all ${t.length} comments`}),t.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No comments yet. Be the first to comment!"})]})},Ve=({sentiment:t,className:s})=>{const a={positive:"bg-green-600 text-white",negative:"bg-custom-red text-white",neutral:"bg-gray-100 text-gray-700"},r=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),l=a[r.toLowerCase()]||a.neutral;return e.jsx("div",{className:P("inline-block px-3 py-1 text-sm font-medium w-fit",l,s),children:r})},it=async(t=1,s=50)=>{try{const a=await je.get(`/news/get/all-news/?page=${t}&page_size=${s}`);if(a.data&&typeof a.data=="object"){if(a.data.results&&Array.isArray(a.data.results))return{results:a.data.results,count:a.data.count||a.data.results.length,next:a.data.next,previous:a.data.previous};if(Array.isArray(a.data))return{results:a.data,count:a.data.length,next:null,previous:null}}if(Array.isArray(a.data))return{results:a.data,count:a.data.length,next:null,previous:null};throw new Error("Invalid response format")}catch(a){return console.error("Failed to fetch all news:",a),{results:[],count:0,next:null,previous:null}}},ss=async({search_term:t,page:s=1,pageSize:a=20})=>{try{const r=encodeURIComponent(t),l=await je.get(`/news/search/?q=${r}&page=${s}&page_size=${a}`);return l.data&&l.data.results||Array.isArray(l.data),l.data}catch(r){return console.error("Failed to search news:",r),[]}},Ze=t=>{const s=t||{};return{id:s.id||Math.random(),title:s.title||"Untitled Article",description:s.description||"No description available",category:s.category||"General",publishedTime:s.published_relative_time||ot(s.published_datetime)||"Recently",publishedDateTime:s.published_datetime||new Date().toISOString(),image:s.image||be(s.category),sentiment:s.badge_status||"Neutral",isFeatured:s.is_featured||!1,imageAttribution:s.author||s.source||"News Source",readTime:as(s.description)||3,author:s.author||"Unknown Author",source:s.source||"News Source",url:s.url||"#",tags:s.tags||[]}},as=t=>{if(!t||typeof t!="string")return 3;const s=200,a=t.trim().split(/\s+/).length,r=Math.ceil(a/s);return Math.max(1,r)},be=(t="general")=>{const s={technology:"https://images.pexels.com/photos/6476589/pexels-photo-6476589.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",business:"https://images.pexels.com/photos/210607/pexels-photo-210607.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",health:"https://images.pexels.com/photos/3938022/pexels-photo-3938022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",environment:"https://images.pexels.com/photos/3894224/pexels-photo-3894224.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",politics:"https://images.pexels.com/photos/2325446/pexels-photo-2325446.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",sports:"https://images.pexels.com/photos/5915202/pexels-photo-5915202.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",local:"https://images.pexels.com/photos/323705/pexels-photo-323705.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",general:"https://images.pexels.com/photos/323705/pexels-photo-323705.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},a=t.toLowerCase();return s[a]||s.general},ot=t=>{if(!t)return"Recently";try{const s=new Date,a=new Date(t);if(isNaN(a.getTime()))return"Recently";const r=Math.floor((s-a)/1e3);return r<60?`${r} seconds ago`:r<3600?`${Math.floor(r/60)} minutes ago`:r<86400?`${Math.floor(r/3600)} hours ago`:r<2592e3?`${Math.floor(r/86400)} days ago`:r<31536e3?`${Math.floor(r/2592e3)} months ago`:`${Math.floor(r/31536e3)} years ago`}catch(s){return console.error("Error formatting time:",s),"Recently"}},He=[{key:"latests",label:"Latest News",count:6,categoryFilter:null,isDefault:!0},{key:"politics",label:"Politics",count:6,categoryFilter:["politics","government","election","policy"]},{key:"Local",label:"Local",count:6,categoryFilter:["local","city","community","regional"]},{key:"whatWeKnow",label:"Analysis",count:6,categoryFilter:["analysis","opinion","editorial","insight"]},{key:"maps",label:"Regional",count:6,categoryFilter:["regional","national","international","world"]},{key:"photos",label:"Photos",count:6,categoryFilter:["photos","gallery","images","visual"]},{key:"tunnels",label:"Investigations",count:5,categoryFilter:["investigation","exclusive","report","expose"]},{key:"oneImage",label:"Sports",count:6,categoryFilter:["sports","football","basketball","soccer","athletics","games"]}],Xe=t=>He.filter(s=>t[s.key]&&t[s.key].length>0),ns=async t=>{try{return(await je.get(`/news/get/all-reactions/${t}/`)).data}catch(s){return console.error(`Failed to fetch reactions for news ID ${t}:`,s),[]}},rs=async(t,s)=>{try{return(await je.post(`/news/post/reactions/${t}/`,{love:s})).data}catch(a){throw console.error(`Failed to post love reaction for news ID ${t}:`,a),a}},is=async(t,s)=>{try{return(await je.post(`/news/post/reactions/${t}/`,{comment:s})).data}catch(a){throw console.error(`Failed to post comment for news ID ${t}:`,a),a}},Ge=t=>Array.isArray(t)?t.filter(s=>s.comment&&s.comment.trim()!=="").map(s=>({id:s.id,author:s.user?.user_profile&&`${s.user.user_profile.first_name||""} ${s.user.user_profile.last_name||""}`.trim()||"Anonymous",content:s.comment,time:ot(s.created_at),avatar:s.user?.user_profile?.profile_picture,loved:s.love})):[],Ye=t=>Array.isArray(t)?t.filter(s=>s.love===!0).length:0,We=t=>Array.isArray(t)?t.filter(s=>s.comment&&s.comment.trim()!=="").length:0,Ke=(t,s)=>{if(!Array.isArray(t)||!s)return!1;const a=t.filter(r=>r.user.id===s&&r.love!==null).sort((r,l)=>new Date(l.created_at)-new Date(r.created_at));return a.length===0?!1:a[0].love===!0},ue=({article:{id:t,title:s,description:a,category:r,publishedTime:l,image:c="/placeholder.svg?height=200&width=300",sentiment:d},className:p,imagePosition:w="top",reactions:x=[],onPostLove:h,onPostComment:o})=>{const[u,j]=m.useState(!1),{isLoggedIn:N,user:b}=ve(),[f,y]=m.useState(!1),{openModal:H}=Ne(),F=Ge(x),A=Ye(x),E=We(x),D=Ke(x,b?.id),k=R=>{if(!R)return"";const M=R.split(" ").filter($=>$.length>0);return M.length<=10?R:M.slice(0,10).join(" ")},S=k(a),te=a&&a.length>120,Y=()=>{if(!N){H("signin");return}j(!u)},B=()=>{H("signin")},Z=()=>{y(!f)},se=async R=>{try{await h?.(R)}catch(M){console.error("Failed to post love reaction:",M)}},oe=async R=>{try{await o?.(R)}catch(M){throw console.error("Failed to post comment:",M),M}},O=w==="left"||w==="right";return e.jsxs(e.Fragment,{children:[u&&e.jsxs(Ce,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:a?k(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:a?k(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:c||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("div",{className:P("rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 bg-white",O?"flex":"flex-col",p),children:[e.jsxs("div",{className:P(O?"w-1/3 flex-shrink-0":"w-full",w==="right"?"order-2":"order-1","relative"),children:[e.jsx("img",{src:c,alt:s,className:"w-full h-72 xl:h-48 object-cover"}),d&&e.jsx("div",{className:"absolute top-1 left-1",children:e.jsx(Ve,{sentiment:d,className:"text-xs py-0.5 px-2"})})]}),e.jsxs("div",{className:P("p-4 flex flex-col",O?"w-2/3":"w-full",w==="right"?"order-1":"order-2"),children:[e.jsx("div",{className:"w-full bg-custom-red text-white px-2 py-1.5 text-xs font-medium mb-2 self-start",children:r}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 leading-tight",children:s}),a&&e.jsx("div",{className:"text-gray-600 text-sm mb-3",children:e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:[u?a:S,!u&&te&&"... ",te&&e.jsx("button",{onClick:Y,className:"text-blue-400 hover:text-blue-500 cursor-pointer text-sm sm:text-base font-medium transition-colors duration-200 focus:outline-none focus:underline",children:u?"Read less":"Read more"})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-auto",children:[e.jsx("div",{children:l&&e.jsx("span",{children:l})}),e.jsx("div",{children:e.jsx(Pe,{onCommentClick:Z,onLoveClick:se,showCommentsCount:E,isLoved:D,loveCount:A,isLoggedIn:N,onAuthRequired:B})})]}),f&&e.jsx(Be,{comments:F,onPostComment:oe,disabled:!N,allComments:x})]})]})]})},Qe=({id:t,title:s,description:a,category:r="THE HEADLINES",publishedTime:l,publishedDateTime:c,image:d="/placeholder.svg?height=100&width=150",sentiment:p="neutral",isFeatured:w,imageAttribution:x,readTime:h,className:o})=>{const{isLoggedIn:u}=ve(),{openModal:j}=Ne(),[N,b]=m.useState(!1),f=A=>{if(!A)return"";const E=A.split(" ").filter(D=>D.length>0);return E.length<=15?A:E.slice(0,15).join(" ")},y=f(a),H=a&&a.length>120,F=()=>{if(!u){j("signin");return}b(!N)};return e.jsxs("div",{children:[N&&e.jsxs(Ce,{children:[e.jsx("title",{children:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:a?f(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:s||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:a?f(a):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:d||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("div",{className:P("flex flex-col md:flex-row border-y border-black py-4 md:py-6",o),children:[e.jsx("div",{className:"w-full md:w-[150px] h-48 md:h-28 relative overflow-hidden flex-shrink-0",children:e.jsx("img",{src:d,alt:s,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-4 flex-1 flex flex-col justify-between",children:[e.jsx("div",{className:"flex items-center mb-1",children:e.jsx("span",{className:"text-xs font-bold text-gray-800 mr-2",children:r})}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2 line-clamp-2",children:s}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[N?a:y,!N&&H&&"..."]}),H&&e.jsxs("button",{onClick:F,className:"mt-1 flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[e.jsx(Wt,{size:16,className:"mr-1"}),N?"Read less":"Read more"]})]}),e.jsx("div",{className:"mt-auto md:ml-auto",children:e.jsx(Ve,{sentiment:p,className:"text-xs py-0.5 px-2"})})]})]})]})},lt=({type:t,value:s,className:a})=>{const r=t==="readTime",l=t==="timeAgo";return e.jsxs("div",{className:P("flex items-center",a),children:[r&&e.jsxs("span",{children:["Read Time ",s," Min"]}),l&&e.jsxs("span",{className:"text-gray-500 text-sm flex items-center",children:[" ","Read Time",s," Min"]})]})},os=({currentIndex:t,setCurrentIndex:s,totalItems:a})=>{const r=l=>{const c=Math.abs(l-t);return c===0?"w-3 h-3":c===1?"w-2.5 h-2.5":"w-2 h-2"};return e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:a}).map((l,c)=>e.jsx("button",{className:`${r(c)} rounded-full transition-all duration-200 ${c===t?"bg-black":"bg-gray-300"}`,onClick:()=>s(c)},c))})},ls=({currentIndex:t,setCurrentIndex:s,totalItems:a})=>{const r=()=>{s(p=>p>0?p-1:a-1)},l=()=>{s(p=>p<a-1?p+1:0)},c=t>0,d=t<a-1;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:r,disabled:!c,className:`w-8 h-8 rounded-full flex items-center justify-center border transition-all ${c?"bg-white border-gray-300 text-gray-800 hover:bg-gray-50 hover:border-gray-400":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"}`,children:e.jsx(Ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:l,disabled:!d,className:`w-8 h-8 rounded-full flex items-center justify-center border transition-all ${d?"bg-white border-gray-300 text-gray-800 hover:bg-gray-50 hover:border-gray-400":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"}`,children:e.jsx($e,{className:"w-4 h-4"})})]})},cs=({description:t,isLoggedIn:s,onAuthRequired:a})=>{const[r,l]=m.useState(!1),c=Re(t),d=t&&t.length>120,p=()=>{if(!s){a();return}l(!r)};return d?e.jsxs(e.Fragment,{children:[" ",r&&e.jsxs(Ce,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-gray-600",children:[r?t:`${c}...`,e.jsx("button",{onClick:p,className:"text-blue-600 cursor-pointer hover:text-blue-800 font-medium text-sm mt-1 transition-colors duration-200 focus:outline-none focus:underline",children:r?"Read less":"Read more >"})]})})]}):e.jsx("p",{className:"text-gray-600 mb-4",children:t})},ds=({updates:t,className:s,newsReactions:a,onPostLove:r,onPostComment:l})=>{const[c,d]=m.useState(0),{isLoggedIn:p,user:w}=ve(),[x,h]=m.useState(!1),{openModal:o}=Ne(),u=t[c],j=a[u.id]||[],N=Ge(j),b=Ye(j),f=We(j),y=Ke(j,w?.id),H=()=>{if(!p){o("signin");return}h(!x)},F=async D=>{if(!p){o("signin");return}try{await r(u.id,D)}catch(k){console.error("Failed to post love reaction:",k)}},A=async D=>{if(!p){o("signin");return}try{await l(u.id,D)}catch(k){throw console.error("Failed to post comment:",k),k}},E=()=>{o("signin")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:P("pb-6",s),children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 lg:flex-row lg:items-start lg:gap-8 xl:gap-10",children:[e.jsxs("div",{className:"flex flex-col w-full lg:w-2/5 xl:w-1/3",children:[e.jsx("div",{className:"font-bold text-xl mb-1",children:u.category}),e.jsxs("div",{className:"flex justify-start items-center gap-3 mt-2 text-custom-red",children:[e.jsx(lt,{type:"live",value:null}),e.jsx("span",{className:"text-sm",children:u.timeAgo})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3",children:u.title}),e.jsx(cs,{description:u.description,isLoggedIn:p,onAuthRequired:E}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("button",{className:"text-gray-700 font-medium mr-2",children:"See more updates"}),e.jsx("span",{className:"bg-gray-700 text-white text-xs px-2 py-1 rounded-full",children:t.length})]}),e.jsx("div",{children:e.jsx(Pe,{onCommentClick:H,onLoveClick:F,showCommentsCount:f,isLoved:y,loveCount:b,isLoggedIn:p,onAuthRequired:E})})]}),e.jsxs("div",{className:"relative w-full order-1 md:order-2 lg:w-2/3 flex flex-col items-end",children:[e.jsx("div",{className:"relative overflow-hidden w-full rounded-lg sm:rounded-none flex justify-end items-center",children:e.jsx("img",{src:u.image,alt:u.title,className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 xl:h-[28rem] object-cover transition-transform duration-300 hover:scale-105",loading:"lazy"})}),e.jsx("div",{className:"w-full py-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:t.length>1&&e.jsx(os,{currentIndex:c,setCurrentIndex:d,totalItems:t.length})}),e.jsx("div",{className:"flex items-center md:mt-6",children:t.length>1&&e.jsx(ls,{currentIndex:c,setCurrentIndex:d,totalItems:t.length})})]})})]})]})}),x&&e.jsx(Be,{comments:N,onPostComment:A,disabled:!p,allComments:j})]})},Je=({title:t,children:s,className:a})=>e.jsxs("section",{className:P(" md:mb-10 py-2 border-b border-black",a),children:[t&&e.jsx("h2",{className:"text-xl font-bold mb-6 border-b border-gray-300 pb-2",children:t}),e.jsx("div",{children:s})]});var _e="rovingFocusGroup.onEntryFocus",ms={bubbles:!1,cancelable:!0},Ae="RovingFocusGroup",[Oe,ct,us]=Bt(Ae),[hs,dt]=st(Ae,[us]),[gs,xs]=hs(Ae),mt=m.forwardRef((t,s)=>e.jsx(Oe.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Oe.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ps,{...t,ref:s})})}));mt.displayName=Ae;var ps=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:w,onEntryFocus:x,preventScrollOnEntryFocus:h=!1,...o}=t,u=m.useRef(null),j=Mt(s,u),N=rt(c),[b,f]=at({prop:d,defaultProp:p??null,onChange:w,caller:Ae}),[y,H]=m.useState(!1),F=Vt(x),A=ct(a),E=m.useRef(!1),[D,k]=m.useState(0);return m.useEffect(()=>{const S=u.current;if(S)return S.addEventListener(_e,F),()=>S.removeEventListener(_e,F)},[F]),e.jsx(gs,{scope:a,orientation:r,dir:N,loop:l,currentTabStopId:b,onItemFocus:m.useCallback(S=>f(S),[f]),onItemShiftTab:m.useCallback(()=>H(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>k(S=>S-1),[]),children:e.jsx(xe.div,{tabIndex:y||D===0?-1:0,"data-orientation":r,...o,ref:j,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{E.current=!0}),onFocus:ie(t.onFocus,S=>{const te=!E.current;if(S.target===S.currentTarget&&te&&!y){const Y=new CustomEvent(_e,ms);if(S.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const B=A().filter(R=>R.focusable),Z=B.find(R=>R.active),se=B.find(R=>R.id===b),O=[Z,se,...B].filter(Boolean).map(R=>R.ref.current);gt(O,h)}}E.current=!1}),onBlur:ie(t.onBlur,()=>H(!1))})})}),ut="RovingFocusGroupItem",ht=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:l=!1,tabStopId:c,children:d,...p}=t,w=nt(),x=c||w,h=xs(ut,a),o=h.currentTabStopId===x,u=ct(a),{onFocusableItemAdd:j,onFocusableItemRemove:N,currentTabStopId:b}=h;return m.useEffect(()=>{if(r)return j(),()=>N()},[r,j,N]),e.jsx(Oe.ItemSlot,{scope:a,id:x,focusable:r,active:l,children:e.jsx(xe.span,{tabIndex:o?0:-1,"data-orientation":h.orientation,...p,ref:s,onMouseDown:ie(t.onMouseDown,f=>{r?h.onItemFocus(x):f.preventDefault()}),onFocus:ie(t.onFocus,()=>h.onItemFocus(x)),onKeyDown:ie(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){h.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const y=ys(f,h.orientation,h.dir);if(y!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let F=u().filter(A=>A.focusable).map(A=>A.ref.current);if(y==="last")F.reverse();else if(y==="prev"||y==="next"){y==="prev"&&F.reverse();const A=F.indexOf(f.currentTarget);F=h.loop?ws(F,A+1):F.slice(A+1)}setTimeout(()=>gt(F))}}),children:typeof d=="function"?d({isCurrentTabStop:o,hasTabStop:b!=null}):d})})});ht.displayName=ut;var fs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bs(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ys(t,s,a){const r=bs(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fs[r]}function gt(t,s=!1){const a=document.activeElement;for(const r of t)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}function ws(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var vs=mt,js=ht,Le="Tabs",[Ns,Bs]=st(Le,[dt]),xt=dt(),[Cs,qe]=Ns(Le),pt=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:p,activationMode:w="automatic",...x}=t,h=rt(p),[o,u]=at({prop:r,onChange:l,defaultProp:c??"",caller:Le});return e.jsx(Cs,{scope:a,baseId:nt(),value:o,onValueChange:u,orientation:d,dir:h,activationMode:w,children:e.jsx(xe.div,{dir:h,"data-orientation":d,...x,ref:s})})});pt.displayName=Le;var ft="TabsList",bt=m.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...l}=t,c=qe(ft,a),d=xt(a);return e.jsx(vs,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:r,children:e.jsx(xe.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:s})})});bt.displayName=ft;var yt="TabsTrigger",wt=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:l=!1,...c}=t,d=qe(yt,a),p=xt(a),w=Nt(d.baseId,r),x=Ct(d.baseId,r),h=r===d.value;return e.jsx(js,{asChild:!0,...p,focusable:!l,active:h,children:e.jsx(xe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:w,...c,ref:s,onMouseDown:ie(t.onMouseDown,o=>{!l&&o.button===0&&o.ctrlKey===!1?d.onValueChange(r):o.preventDefault()}),onKeyDown:ie(t.onKeyDown,o=>{[" ","Enter"].includes(o.key)&&d.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const o=d.activationMode!=="manual";!h&&!l&&o&&d.onValueChange(r)})})})});wt.displayName=yt;var vt="TabsContent",jt=m.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:l,children:c,...d}=t,p=qe(vt,a),w=Nt(p.baseId,r),x=Ct(p.baseId,r),h=r===p.value,o=m.useRef(h);return m.useEffect(()=>{const u=requestAnimationFrame(()=>o.current=!1);return()=>cancelAnimationFrame(u)},[]),e.jsx(Dt,{present:l||h,children:({present:u})=>e.jsx(xe.div,{"data-state":h?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":w,hidden:!u,id:x,tabIndex:0,...d,ref:s,style:{...t.style,animationDuration:o.current?"0s":void 0},children:u&&c})})});jt.displayName=vt;function Nt(t,s){return`${t}-trigger-${s}`}function Ct(t,s){return`${t}-content-${s}`}var As=pt,Ts=bt,ks=wt,Ss=jt;function At({className:t,...s}){return e.jsx(As,{"data-slot":"tabs",className:P("flex flex-col gap-2",t),...s})}function Tt({className:t,...s}){return e.jsx(Ts,{"data-slot":"tabs-list",className:P("bg-muted text-muted-foreground flex h-9 items-center rounded-lg p-[3px] overflow-x-auto scrollbar-hide","[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",t),...s})}function kt({className:t,...s}){return e.jsx(ks,{"data-slot":"tabs-trigger",className:P("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-shrink-0 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function St({className:t,...s}){return e.jsx(Ss,{"data-slot":"tabs-content",className:P("flex-1 outline-none",t),...s})}const It=({children:t,className:s,columns:a=2,gap:r=6})=>e.jsx("div",{className:P(`grid grid-cols-1 md:grid-cols-${a} gap-${r}`,s),children:t});await it();const Rt={israelHamasWar:[{id:1,title:"Israel-Hamas War: Complete Coverage",description:"Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments... Comprehensive coverage of the ongoing conflict with latest developments...",category:"War Coverage",publishedTime:"15 minutes ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Breaking",isFeatured:!0,imageAttribution:null,readTime:8},{id:2,title:"International Response Analysis",description:"How world leaders are responding to the escalating situation...",category:"International",publishedTime:"45 minutes ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Analysis",isFeatured:!1,imageAttribution:null,readTime:6},{id:3,title:"Civilian Impact Assessment",description:"Understanding the humanitarian crisis and civilian casualties...",category:"Humanitarian",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Critical",isFeatured:!1,imageAttribution:null,readTime:7},{id:4,title:"Military Operations Update",description:"Latest military developments and strategic movements...",category:"Military",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Update",isFeatured:!1,imageAttribution:null,readTime:5}],updates:[{id:5,title:"Latest Updates on Israel-Hamas Conflict",description:"Breaking news and developments from the ongoing situation...",category:"Breaking News",publishedTime:"30 minutes ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Live",isFeatured:!0,imageAttribution:null,readTime:5},{id:6,title:"Diplomatic Efforts Continue",description:"International leaders work toward ceasefire negotiations...",category:"Politics",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Urgent",isFeatured:!1,imageAttribution:null,readTime:4},{id:7,title:"Humanitarian Aid Distribution",description:"Relief efforts reach affected areas...",category:"Humanitarian",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Update",isFeatured:!1,imageAttribution:null,readTime:3},{id:8,title:"Security Council Meeting",description:"UN discusses resolution proposals...",category:"International",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Official",isFeatured:!1,imageAttribution:null,readTime:6}],whatWeKnow:[{id:9,title:"Timeline of Recent Events",description:"Comprehensive overview of key developments...",category:"Analysis",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Complete",isFeatured:!1,imageAttribution:null,readTime:8},{id:10,title:"Key Players and Positions",description:"Understanding the main parties involved...",category:"Analysis",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Detailed",isFeatured:!1,imageAttribution:null,readTime:7},{id:11,title:"Historical Context",description:"Background information to understand current events...",category:"Background",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Essential",isFeatured:!1,imageAttribution:null,readTime:10},{id:12,title:"Regional Analysis",description:"Understanding regional implications and effects...",category:"Regional",publishedTime:"7 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Important",isFeatured:!1,imageAttribution:null,readTime:6}],maps:[{id:13,title:"Regional Map Overview",description:"Interactive maps showing affected areas...",category:"Geographic",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Interactive",isFeatured:!1,imageAttribution:null,readTime:2},{id:14,title:"Strategic Locations",description:"Key points of interest in the conflict zone...",category:"Strategic",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Important",isFeatured:!1,imageAttribution:null,readTime:4},{id:15,title:"Border Areas Analysis",description:"Detailed view of border regions and checkpoints...",category:"Border",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Detailed",isFeatured:!1,imageAttribution:null,readTime:5},{id:16,title:"Population Centers",description:"Major cities and population centers in the region...",category:"Demographics",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Reference",isFeatured:!1,imageAttribution:null,readTime:3}],photos:[{id:17,title:"Photo Gallery: Recent Events",description:"Visual documentation of recent developments...",category:"Photography",publishedTime:"2 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Gallery",isFeatured:!1,imageAttribution:null,readTime:5},{id:18,title:"Before and After Images",description:"Satellite imagery showing changes over time...",category:"Documentation",publishedTime:"4 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Comparison",isFeatured:!1,imageAttribution:null,readTime:3},{id:19,title:"Ground Reports in Pictures",description:"On-ground photography from conflict areas...",category:"Field Reports",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Exclusive",isFeatured:!1,imageAttribution:null,readTime:4},{id:20,title:"Humanitarian Crisis Images",description:"Visual documentation of humanitarian impact...",category:"Humanitarian",publishedTime:"8 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Critical",isFeatured:!1,imageAttribution:null,readTime:6}],tunnels:[{id:21,title:"Underground Infrastructure",description:"Investigation into tunnel networks...",category:"Investigation",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Exclusive",isFeatured:!1,imageAttribution:null,readTime:7},{id:22,title:"Security Implications",description:"Analysis of underground threats...",category:"Security",publishedTime:"6 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Analysis",isFeatured:!1,imageAttribution:null,readTime:6},{id:23,title:"Construction Methods",description:"How these underground networks are built...",category:"Technical",publishedTime:"8 hours ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Technical",isFeatured:!1,imageAttribution:null,readTime:8},{id:24,title:"Detection Technologies",description:"Methods used to detect underground tunnels...",category:"Technology",publishedTime:"10 hours ago",publishedDateTime:null,image:"/fn5.png",sentiment:"Innovation",isFeatured:!1,imageAttribution:null,readTime:5}],oneImage:[{id:25,title:"The Story in One Image",description:"Powerful photography that captures the moment...",category:"Photo Story",publishedTime:"1 hour ago",publishedDateTime:null,image:"/fn4.png",sentiment:"Featured",isFeatured:!0,imageAttribution:null,readTime:2},{id:26,title:"Iconic Moment Captured",description:"Single frame that tells the entire story...",category:"Iconic",publishedTime:"3 hours ago",publishedDateTime:null,image:"/fn1.png",sentiment:"Powerful",isFeatured:!1,imageAttribution:null,readTime:3},{id:27,title:"Symbolic Representation",description:"Image that represents the broader conflict...",category:"Symbolic",publishedTime:"5 hours ago",publishedDateTime:null,image:"/fn2.png",sentiment:"Symbolic",isFeatured:!1,imageAttribution:null,readTime:4},{id:28,title:"Historical Moment",description:"Capturing history as it unfolds...",category:"Historical",publishedTime:"7 hours ago",publishedDateTime:null,image:"/fn3.png",sentiment:"Historic",isFeatured:!1,imageAttribution:null,readTime:3}]},Pt=[{key:"israelHamasWar",label:"Israel-Hamas War",isDefault:!0},{key:"updates",label:"Updates"},{key:"whatWeKnow",label:"What We Know"},{key:"maps",label:"Maps"},{key:"photos",label:"Photos"},{key:"tunnels",label:"The Tunnels of Gaza"},{key:"oneImage",label:"The War in One Image"}],Is=t=>{const s="grid gap-2 md:gap-4";switch(t){case 2:return`${s} grid-cols-1 sm:grid-cols-2`;case 3:return`${s} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`;case 4:default:return`${s} grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 `}},Rs=({className:t,dynamicTabsData:s,dynamicTabsConfig:a,newsReactions:r={},onPostLove:l,onPostComment:c})=>{const d=s||Rt,p=a||Pt,w=p.find(x=>x.isDefault)?.key||p[0]?.key;return e.jsx("div",{className:`w-full ${t}`,children:e.jsxs(At,{defaultValue:w,className:"w-full",children:[e.jsx(Tt,{className:"flex gap-2 items-center mb-5 p-1 bg-transparent md:mx-auto overflow-x-auto",children:p.map(x=>e.jsx(kt,{value:x.key,className:"data-[state=active]:h-11 cursor-pointer rounded-md data-[state=active]:py-3 data-[state=active]:px-4 text-custom-gray data-[state=active]:text-black data-[state=active]:font-bold data-[state=active]:bg-[#F2F2F2] hover:text-black whitespace-nowrap",children:x.label},x.key))}),p.map(x=>{const h=d[x.key]||[],o=Is(x.columns||4);return e.jsxs(St,{value:x.key,className:"mt-0",children:[e.jsx(It,{columns:x.columns||4,gap:x.gap||4,className:o,children:h.map(u=>e.jsx(ue,{article:u,reactions:r[u.id]||[],onPostLove:j=>l(u.id,j),onPostComment:j=>c(u.id,j),className:"bg-white border border-gray-200 hover:shadow-lg transition-shadow duration-200"},u.id))}),h.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No articles available for this section."}),e.jsx("p",{className:"text-sm mt-2",children:"Please check back later for updates."})]})]},x.key)})]})})},Ps=({attribution:t,className:s})=>t?e.jsx("div",{className:P("text-xs text-gray-500 mt-1",s),children:t}):null,et=({article:t,className:s,layout:a="horizontal",reactions:r=[],onPostLove:l,onPostComment:c})=>{const[d,p]=m.useState(!1),w=a==="horizontal",{isLoggedIn:x,user:h}=ve(),{openModal:o}=Ne(),[u,j]=m.useState(!1),N=Ge(r),b=Ye(r),f=We(r),y=Ke(r,h?.id),{id:H,title:F,description:A,category:E,publishedTime:D,publishedDateTime:k,image:S,sentiment:te,source:Y,author:B,tags:Z,isFeatured:se,imageAttribution:oe,readTime:O,url:R}=t||{},M=Re(A),$=A&&A.length>120,ae=W=>{if(!W)return"";try{const K=new Date(W),n=new Date,g=Math.floor((n-K)/(1e3*60*60));return g<1?"Just now":g<24?`${g}h ago`:g<48?"Yesterday":K.toLocaleDateString("en-US",{month:"short",day:"numeric",year:K.getFullYear()!==n.getFullYear()?"numeric":void 0})}catch{return""}},Te=()=>{if(!x){o("signin");return}p(!d)},ke=()=>{if(!x){o("signin");return}j(!u)},he=async W=>{if(!x){o("signin");return}try{await l?.(W)}catch(K){console.error("Failed to post love reaction:",K)}},ne=async W=>{if(!x){o("signin");return}try{await c?.(W)}catch(K){throw console.error("Failed to post comment:",K),K}},Fe=()=>{o("signin")},Me=W=>{R&&(W.preventDefault(),window.open(R,"_blank","noopener,noreferrer"))};return e.jsxs(e.Fragment,{children:[d&&e.jsxs(Ce,{children:[e.jsx("title",{children:F||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{name:"description",content:A?Re(A):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:title",content:F||"ALAMOCITYPULSE - News Article"}),e.jsx("meta",{property:"og:description",content:A?Re(A):"Read the latest news and updates from ALAMOCITYPULSE"}),e.jsx("meta",{property:"og:image",content:S||"/default-image.jpg"}),e.jsx("meta",{property:"og:type",content:"article"})]}),e.jsxs("article",{className:P("overflow-hidden pb-4 sm:pb-6 lg:pb-8",s),children:[e.jsxs("div",{className:P("flex flex-col-reverse gap-4 sm:gap-6",w&&!d&&S&&"lg:flex-row lg:items-start lg:gap-8 xl:gap-10",d&&"flex-col-reverse gap-4 sm:gap-6"),children:[e.jsxs("div",{className:P("flex flex-col w-full",w&&!d&&S&&"lg:w-2/5 xl:w-1/3",d&&"w-full"),children:[e.jsx("div",{className:"flex items-center justify-between mb-3 flex-wrap gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 flex-wrap",children:[Y&&e.jsx("button",{onClick:Me,className:"font-medium text-blue-600 hover:text-blue-800 transition-colors cursor-pointer",children:Y}),Y&&(k||D)&&e.jsx("span",{className:"text-gray-300",children:"•"}),(k||D)&&e.jsx("time",{className:"text-gray-500",children:ae(k||D)}),B&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:["By ",B]})]}),E&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"•"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:E.toUpperCase()})]})]})}),e.jsx(Ve,{sentiment:te,className:"mb-3 sm:mb-4 w-full"}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4 leading-tight",children:[F,se&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"FEATURED"})]}),e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:[d?A:M,!d&&$&&"... ",$&&e.jsx("button",{onClick:Te,className:"text-blue-600 hover:text-blue-800 cursor-pointer text-sm sm:text-base font-medium mt-2 transition-colors duration-200 focus:outline-none focus:underline inline-flex items-center gap-1",children:d?e.jsxs(e.Fragment,{children:["Read less",e.jsx(Gt,{className:"w-4 h-4 mt-1"})]}):e.jsxs(e.Fragment,{children:["Read more",e.jsx(Et,{className:"w-4 h-4 mt-1"})]})})]})}),Z&&Z.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[Z.slice(0,4).map((W,K)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors cursor-pointer",children:["#",W]},K)),Z.length>4&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium text-gray-500",children:["+",Z.length-4," more"]})]}),w&&e.jsx("div",{className:"flex flex-col justify-between w-full",children:e.jsx("div",{className:"w-full flex justify-between items-center mt-2 sm:mt-3",children:e.jsx("div",{children:e.jsx(Pe,{onCommentClick:ke,onLoveClick:he,showCommentsCount:f,isLoved:y,loveCount:b,isLoggedIn:x,onAuthRequired:Fe})})})})]}),S&&e.jsxs("div",{className:P("relative w-full order-1 md:order-2 flex flex-col items-end",w&&!d&&"lg:w-2/3",d&&"w-full"),children:[e.jsxs("div",{className:"relative overflow-hidden w-full rounded-lg sm:rounded-none flex justify-end items-center",children:[e.jsx("img",{src:S,alt:F,className:P("w-full object-cover transition-transform duration-300 hover:scale-105",!d&&"h-56 sm:h-96 md:h-96 lg:h-96 xl:h-[28rem]",d&&"h-56 sm:h-96 md:h-96 lg:h-[36rem] xl:h-[44rem]"),loading:"lazy"}),e.jsx("div",{className:"absolute bottom-3 left-3 bg-black/50 backdrop-blur-sm rounded-md px-2 py-1",children:e.jsx(lt,{type:"readTime",value:O||D,className:"text-xs sm:text-sm text-white"})}),oe&&e.jsx("div",{className:"absolute bottom-3 right-3 bg-black/50 backdrop-blur-sm rounded-md px-2 py-1",children:e.jsx(Ps,{attribution:oe,className:"text-xs sm:text-sm text-white"})})]}),!w&&e.jsx("div",{className:"flex flex-col justify-between w-full",children:e.jsxs("div",{className:"w-full flex justify-between items-center mt-2 sm:mt-3",children:[se&&e.jsx("div",{children:e.jsx(Pe,{onCommentClick:ke,onLoveClick:he,showCommentsCount:f,isLoved:y,loveCount:b,disabled:!x})}),!se&&e.jsx("div",{className:""})]})})]})]}),u&&e.jsx(Be,{comments:N,onPostComment:ne,disabled:!x,allComments:r})]})]})},Ls=t=>({columns:4,gap:4}),Fs=({className:t,dynamicTabsData:s,dynamicTabsConfig:a,newsReactions:r={},onPostLove:l,onPostComment:c})=>{const d=s||Rt,p=a||Pt,{openModal:w}=Ne(),x=p.find(h=>h.isDefault)?.key||p[0]?.key;return e.jsx("div",{className:`w-full ${t}`,children:e.jsxs(At,{defaultValue:x,className:"w-full",children:[e.jsx(Tt,{className:"flex items-center justify-start gap-2 md:gap-8 p-0 bg-transparent border-none h-auto overflow-x-auto",children:p.map(h=>e.jsx(kt,{value:h.key,className:"px-2 py-1 cursor-pointer text-base font-normal focus-visible:border-none focus-visible:outline-0 !shadow-none data-[state=active]:!shadow-none text-gray-600 bg-transparent border-none hover:text-black data-[state=active]:bg-transparent data-[state=active]:text-black data-[state=active]:font-bold transition-all duration-200 whitespace-nowrap",children:h.label},h.key))}),p.map(h=>{const o=d[h.key]||[],u=Ls();return e.jsxs(St,{value:h.key,className:"mt-0",children:[e.jsx(It,{columns:u.columns,gap:u.gap,className:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.map(j=>e.jsx(ue,{article:j,reactions:r[j.id]||[],onPostLove:N=>l(j.id,N),onPostComment:N=>c(j.id,N),className:"bg-white border border-gray-200 hover:shadow-lg transition-shadow duration-200"},j.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No articles available for this section."}),e.jsx("p",{className:"text-sm mt-2",children:"Please check back later for updates."})]})]},h.key)})]})})},Ms=()=>{const t=[{title:"News",link:"/"},{title:"About Us",link:"/about"},{title:"Make Advertise",link:"/advertise"}],s=[{title:"Terms and Conditions",link:"/terms"},{title:"Privacy Policy",link:"/terms"}],a=[{title:"Breaking News",link:"/"},{title:"Politics",link:"/"},{title:"Business",link:"/"},{title:"Technology",link:"/"},{title:"Sports",link:"/"},{title:"Etc. all",link:"/"}];return e.jsxs("section",{className:"flex flex-col w-full lg:flex-row items-start justify-between gap-6 xl:gap-32 p-4 sm:p-6 md:p-8 lg:p-10 bg-[#00254a]",children:[e.jsxs("div",{className:"flex flex-col w-full lg:w-1/2 items-start gap-4 md:gap-6 lg:gap-10",children:[e.jsx("h1",{className:"self-stretch font-bold text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl tracking-[0] leading-tight lg:leading-[78px] font-sans",children:"ALAMOCITYPULSE"}),e.jsxs("div",{className:"flex flex-col w-full items-start gap-2.5",children:[e.jsx("h2",{className:"self-stretch font-semibold text-white text-base sm:text-lg font-sans",children:"Alamocitypulse is a news/blog site that covers local San Antonio news, whether it's new businesses, events, town fairs, we cover it."}),e.jsx("p",{className:"self-stretch font-normal text-gray-300 text-sm md:text-base tracking-[0] leading-6 font-sans",children:"We also cover the negative side of news globally. Our primary source of income is coming from paid advertising on our site and memberships. You can pay to have anything as an ad on the site for whatever amount agreed upon. The daily membership allows you to comment and interact with everyone on the site as free accounts don't allow you to."})]}),e.jsx("div",{className:"hidden w-full sm:w-80 lg:w-[304px]",children:e.jsxs("button",{className:"w-full h-12 sm:h-14 cursor-pointer rounded-xl border-[0.5px] border-solid border-white bg-transparent text-white text-lg sm:text-xl font-normal flex justify-between items-center px-4 sm:px-5 hover:bg-white hover:text-[#00254a] transition-colors",children:[e.jsx("div",{children:"Reach Out"}),e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx(Jt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#00254a]"})})]})})]}),e.jsxs("div",{className:"flex flex-col w-full lg:w-1/2 items-start gap-4 lg:gap-[23px]",children:[e.jsx("div",{className:"hidden xl:flex self-stretch w-full h-8  md:h-12 lg:h-20 bg-transparent"}),e.jsx(_t,{className:"w-full bg-transparent border-none shadow-none",children:e.jsx(Ut,{className:"flex flex-col items-start justify-end gap-4 sm:gap-6 p-0 pt-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row w-full items-start justify-between gap-6 sm:gap-4 lg:gap-8",children:[e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"Resources"}),e.jsx("div",{className:"flex flex-col items-start gap-2 sm:gap-3",children:t.map((r,l)=>e.jsx("a",{href:r.link,className:"font-normal text-white text-sm lg:text-base tracking-[0] leading-normal font-sans hover:text-gray-300 transition-colors",children:r.title},l))})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"ALAMOCITYPULSE"}),e.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:s.map((r,l)=>e.jsx("a",{href:r.link,className:"font-normal text-white text-sm lg:text-base tracking-[0] leading-[21px] font-sans hover:text-gray-300 transition-colors",children:r.title},l))})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto items-start gap-3 sm:gap-4 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-lg sm:text-xl tracking-[0] leading-6 font-sans",children:"Category"}),e.jsx("div",{className:"font-normal text-white text-sm lg:text-base tracking-[0] leading-[20px] sm:leading-[27.2px] font-sans",children:a.map((r,l)=>e.jsxs($t.Fragment,{children:[e.jsx("a",{href:r.link,className:"hover:text-gray-300 transition-colors",children:r.title}),l<a.length-1&&e.jsx("br",{})]},l))})]})]})})})]})]})},Ds=({error:t})=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading News"}),e.jsx("p",{className:"text-gray-600",children:t}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}),tt=({advertisement:t,width:s="100%",height:a="200px",position:r="center",onHide:l,className:c=""})=>{const[d,p]=m.useState(!0),[w,x]=m.useState(0),[h,o]=m.useState(!1);m.useEffect(()=>{if(!t?.imageUrls||t.imageUrls.length<=1)return;const b=setInterval(()=>{h||x(f=>(f+1)%t.imageUrls.length)},1e4);return()=>clearInterval(b)},[t?.imageUrls,h]);const u=()=>{p(!1),l&&l(t?.id)},j=()=>{t?.url&&window.open(t.url,"_blank","noopener,noreferrer")};if(!d||!t)return null;if(!t.imageUrls||t.imageUrls.length===0)return e.jsxs("div",{className:`bg-gray-300 rounded-lg flex items-center justify-center relative group ${c}`,style:{width:s,height:a},children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Advertisement Space"}),e.jsx("button",{onClick:u,className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70",title:"Hide advertisement",children:e.jsx(ye,{size:12})})]});const N=t.imageUrls.length>1;return e.jsxs("div",{className:`relative rounded-lg overflow-hidden group cursor-pointer transition-transform duration-200 hover:scale-[1.02] group-hover:shadow-lg ${c}`,style:{width:s,height:a},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:j,children:[e.jsx("div",{className:"absolute top-0 left-0 bg-gray-800 text-red-500 text-xs px-2 py-1 rounded-br z-10",children:"Ads"}),e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${w*100}%)`},children:t.imageUrls.map((b,f)=>e.jsx("img",{src:b,alt:`${t.title||"Advertisement"} ${f+1}`,className:"w-full h-full object-cover flex-shrink-0",onError:y=>{y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjOWNhM2FmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+QWQ8L3RleHQ+PC9zdmc+"}},f))})}),t.url&&e.jsx("div",{className:"absolute top-2 right-8 z-10",children:e.jsx("div",{className:"bg-black bg-opacity-50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx(ze,{size:12})})}),e.jsx("button",{onClick:b=>{b.stopPropagation(),u()},"aria-label":"Hide advertisement",className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70 z-10",children:e.jsx(ye,{size:12})}),N&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 z-10",children:t.imageUrls.map((b,f)=>e.jsx("button",{onClick:y=>{y.stopPropagation(),x(f)},className:`w-2 h-2 rounded-full transition-colors duration-200 ${f===w?"bg-white":"bg-white/50"}`},f))})]})},Ie=({advertisements:t=[],position:s="center",width:a="100%",height:r="200px",className:l="",maxAds:c=1})=>{const[d,p]=m.useState(new Set),w=o=>{p(u=>new Set(u).add(o))},h=(()=>{let o=t.filter(u=>!d.has(u.id));switch(o=o.sort((u,j)=>u.id-j.id),s){case"center":return o.slice(0,c);case"sidebar-top":return o.slice(0,c);case"sidebar-mid":return o.slice(Math.min(1,o.length),Math.min(1,o.length)+c);case"sidebar-bottom":return o.slice(Math.min(2,o.length),Math.min(2,o.length)+c);case"bottom":return o.slice(Math.min(3,o.length),Math.min(3,o.length)+c);case"mobile-top":return o.slice(0,c);case"mobile-mid":return o.slice(Math.min(1,o.length),Math.min(1,o.length)+c);default:return o.slice(0,c)}})();return t.length===0||h.length===0?e.jsx(tt,{advertisement:null,width:a,height:r,position:s,className:l}):e.jsx("div",{className:`space-y-4 ${l}`,children:h.map((o,u)=>e.jsx(tt,{advertisement:o,width:a,height:r,position:s,onHide:w},`${o.id}-${s}-${u}`))})},Es=({advertisement:t,format:s="card",onHide:a,onView:r,className:l=""})=>{const[c,d]=m.useState(0),[p,w]=m.useState(!1),[x,h]=m.useState(!1);m.useEffect(()=>{if(!x&&r){const b=setTimeout(()=>{r(t.id),h(!0)},1e3);return()=>clearTimeout(b)}},[x,r,t.id]),m.useEffect(()=>{if(t.imageUrls.length>1&&!p){const b=setInterval(()=>{d(f=>(f+1)%t.imageUrls.length)},4e3);return()=>clearInterval(b)}},[t.imageUrls.length,p]);const o=()=>{t.url&&window.open(t.url,"_blank","noopener,noreferrer")},u=b=>{b.stopPropagation(),d(f=>(f+1)%t.imageUrls.length)},j=b=>{b.stopPropagation(),d(f=>f===0?t.imageUrls.length-1:f-1)},N=b=>{b.stopPropagation(),a&&a(t.id)};return s==="banner"?e.jsxs("div",{className:`relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-md ${l}`,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:o,children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Sponsored"})}),e.jsx("button",{onClick:N,className:"absolute top-2 right-2 z-10 p-1.5 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-opacity-70",title:"Hide this ad",children:e.jsx(ye,{size:14})}),e.jsxs("div",{className:"flex h-24 sm:h-28",children:[e.jsxs("div",{className:"relative w-32 sm:w-40 flex-shrink-0",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover",onError:b=>{b.target.src="https://images.pexels.com/photos/1779487/pexels-photo-1779487.jpeg?auto=compress&cs=tinysrgb&w=400"}}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.imageUrls.slice(0,3).map((b,f)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${f===c?"bg-white":"bg-white/50"}`},f))})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-4 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1 mb-1",children:t.title}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2 mb-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(Ee,{size:12}),e.jsx("span",{children:t.category})]}),e.jsxs("div",{className:"flex items-center text-blue-600 text-xs font-medium group-hover:text-blue-700",children:[e.jsx("span",{className:"mr-1",children:"Learn More"}),e.jsx(ze,{size:12})]})]})]})]})]}):s==="sidebar"?e.jsxs("div",{className:`relative bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-md w-full ${l}`,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:o,children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Ad"})}),e.jsx("button",{onClick:N,className:"absolute top-2 right-2 z-10 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Hide this ad",children:e.jsx(ye,{size:12})}),e.jsxs("div",{className:"relative h-32",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover",onError:b=>{b.target.src="https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=400"}}),t.imageUrls.length>1&&p&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,className:"absolute left-1 top-1/2 transform -translate-y-1/2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70",children:e.jsx(Ue,{size:12})}),e.jsx("button",{onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-1 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70",children:e.jsx($e,{size:12})})]}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.imageUrls.map((b,f)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${f===c?"bg-white":"bg-white/50"}`},f))})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm line-clamp-2 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-xs line-clamp-2 mb-3",children:t.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ee,{size:10,className:"mr-1"}),t.category]})}),e.jsx("button",{className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium py-2 rounded-md transition-colors duration-200",children:"Visit Now"})]})]}):e.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden cursor-pointer group transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${l}`,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:o,children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs px-3 py-1 rounded-full font-semibold shadow-lg",children:"Sponsored"})}),e.jsx("button",{onClick:N,className:"absolute top-3 right-3 z-10 p-2 bg-black bg-opacity-30 backdrop-blur-sm text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-opacity-50",title:"Hide this ad",children:e.jsx(ye,{size:16})}),e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.imageUrls[c],alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:b=>{b.target.src="https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=600"}}),t.imageUrls.length>1&&p&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2",children:[e.jsx("button",{onClick:j,className:"p-2 bg-black bg-opacity-50 backdrop-blur-sm text-white rounded-full hover:bg-opacity-70 transition-all duration-200",children:e.jsx(Ue,{size:16})}),e.jsx("button",{onClick:u,className:"p-2 bg-black bg-opacity-50 backdrop-blur-sm text-white rounded-full hover:bg-opacity-70 transition-all duration-200",children:e.jsx($e,{size:16})})]}),t.imageUrls.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.imageUrls.map((b,f)=>e.jsx("button",{onClick:y=>{y.stopPropagation(),d(f)},className:`w-2 h-2 rounded-full transition-all duration-200 ${f===c?"bg-white scale-110":"bg-white/60 hover:bg-white/80"}`},f))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/30 to-transparent"})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Ee,{size:12,className:"mr-1"}),t.category]})}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors duration-200",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.user?.split("@")[0]||"Advertiser"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 transform group-hover:scale-105 shadow-md",children:[e.jsx("span",{className:"mr-2",children:"Learn More"}),e.jsx(ze,{size:14})]})]})]})]})},_s=({advertisements:t=[],position:s="center",format:a="card",maxAds:r=1,className:l="",onAdView:c})=>{const[d,p]=m.useState(new Set),w=o=>{p(u=>new Set(u).add(o))},x=m.useMemo(()=>{const o=t.filter(u=>u.status==="approved"&&!d.has(u.id)).sort((u,j)=>(j.views||0)-(u.views||0));switch(s){case"center":return o.slice(0,r);case"sidebar-top":return o.slice(0,r);case"sidebar-mid":return o.slice(1,1+r);case"sidebar-bottom":return o.slice(2,2+r);case"bottom":return o.slice(3,3+r);case"mobile-top":return o.slice(0,r);case"mobile-mid":return o.slice(1,1+r);default:return o.slice(0,r)}},[t,d,s,r]);if(x.length===0)return e.jsx("div",{className:`text-center py-8 ${l}`,children:e.jsx("div",{className:"text-gray-400 text-sm",children:"No advertisements available"})});const h=()=>{switch(a){case"banner":return"space-y-3";case"sidebar":return"space-y-4";case"card":return r>1?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"flex justify-center";default:return"space-y-4"}};return e.jsx("div",{className:`${h()} ${l}`,children:x.map((o,u)=>e.jsx(Es,{advertisement:o,format:a,onHide:w,onView:c,className:a==="card"&&r===1?"max-w-sm mx-auto":""},`${o.id}-${s}-${u}`))})},me=({advertisements:t,placement:s,onAdView:a,className:r=""})=>{const c=(()=>{switch(s){case"header-banner":return{format:"banner",position:"center",maxAds:1,containerClass:"w-full max-w-4xl mx-auto mb-6"};case"content-top":return{format:"card",position:"center",maxAds:1,containerClass:"w-full max-w-sm mx-auto my-8"};case"content-middle":return{format:"banner",position:"center",maxAds:1,containerClass:"w-full max-w-3xl mx-auto my-8"};case"content-bottom":return{format:"card",position:"bottom",maxAds:1,containerClass:"w-full max-w-4xl mx-auto mt-8"};case"sidebar":return{format:"sidebar",position:"sidebar-top",maxAds:1,containerClass:"w-full max-w-xs"};case"footer":return{format:"banner",position:"bottom",maxAds:1,containerClass:"w-full max-w-6xl mx-auto"};default:return{format:"card",position:"center",maxAds:1,containerClass:"w-full"}}})();return e.jsx("div",{className:`${c.containerClass} ${r}`,children:e.jsx(_s,{advertisements:t,format:c.format,position:c.position,maxAds:c.maxAds,onAdView:a})})},{getAllPublicAdvertisements:Us}=await zt(async()=>{const{getAllPublicAdvertisements:t}=await import("./index-1_wzMqc8.js").then(s=>s.a1);return{getAllPublicAdvertisements:t}},__vite__mapDeps([0,1]));function Vs(){const[t,s]=m.useState([]),[a,r]=m.useState(!1),l=m.useRef(null),[c,d]=m.useState(""),[p,w]=m.useState([]),[x,h]=m.useState(!1),[o,u]=m.useState(!1),[j,N]=m.useState(!1),[b,f]=m.useState(1),[y,H]=m.useState(1),[F,A]=m.useState(0),[E,D]=m.useState({sections:[],loading:!0,error:null}),[k,S]=m.useState({}),[te,Y]=m.useState({}),B=m.useCallback($s(async n=>{if(!n||!n.trim()){h(!1),w([]),N(!1);return}N(!0),h(!0);try{const g=await ss({search_term:n.trim()}),v=(Array.isArray(g)?g:g.results||[]).map(Ze);w(v),await Te(v.slice(0,10))}catch(g){console.error("Search failed:",g),w([])}finally{N(!1)}},500),[]),Z=m.useCallback(n=>{if(d(n),!n||!n.trim()){h(!1),w([]),N(!1),B.cancel&&B.cancel();return}B(n)},[B]),se=m.useCallback(n=>{if(!n||!n.trim()){h(!1),w([]),N(!1);return}N(!0),h(!0),B(n)},[B]),oe=m.useCallback(async()=>{try{r(!0);const n=await Us();n.success?s(n.data||[]):(console.error("Failed to fetch advertisements:",n.error),s([]))}catch(n){console.error("Error fetching advertisements:",n),s([])}finally{r(!1)}},[]),O=m.useCallback(async(n=1)=>{try{D(T=>({...T,loading:!0}));const g=await it(n,50);let i,v={};if(g.results)i=g.results,v={count:g.count||0,next:g.next,previous:g.previous};else if(Array.isArray(g))i=g,v={count:g.length,next:null,previous:null};else throw new Error("Invalid response format");if(!i||i.length===0)throw new Error("No news data received");const C=i.map(Ze).filter(T=>T&&T.id).sort((T,X)=>new Date(X.publishedDateTime)-new Date(T.publishedDateTime));f(n),A(v.count||0),H(Math.ceil((v.count||0)/50));const re=pe([...C],1,!0),I=ke(re);D({sections:I,loading:!1,error:null}),Te(C.slice(0,15))}catch(g){console.error("Failed to fetch news:",g),D(i=>({...i,loading:!1,error:g.message}))}},[]),R=m.useCallback(async n=>{if(!te[n])try{Y(i=>({...i,[n]:!0}));const g=await ns(n);S(i=>({...i,[n]:g}))}catch(g){console.error(`Failed to fetch reactions for news ${n}:`,g)}finally{Y(g=>({...g,[n]:!1}))}},[te]),M=m.useCallback(async(n,g)=>{try{const i=await rs(n,g);return S(v=>({...v,[n]:v[n]?[...v[n],i]:[i]})),await R(n),i}catch(i){throw console.error(`Failed to post love reaction for news ${n}:`,i),i}},[R]),$=m.useCallback(async(n,g)=>{try{if(!g||g.trim()==="")throw new Error("Comment cannot be empty");const i=await is(n,g.trim());return S(v=>({...v,[n]:v[n]?[...v[n],i]:[i]})),await R(n),i}catch(i){throw console.error(`Failed to post comment for news ${n}:`,i),i}},[R]),ae=m.useCallback(async(n,g)=>{try{const i=[];g.hasOwnProperty("love")&&i.push(M(n,g.love)),g.comment&&g.comment.trim()!==""&&i.push($(n,g.comment));const v=await Promise.all(i);return v.length>0?v[v.length-1]:null}catch(i){throw console.error(`Failed to post reaction for news ${n}:`,i),i}},[M,$]);m.useEffect(()=>{(async()=>{try{D(v=>({...v,loading:!0})),S({}),Y({});const[g,i]=await Promise.allSettled([O(1),oe()]);if(g.status==="rejected")throw new Error(g.reason?.message||"Failed to fetch news")}catch(g){console.error("Failed to fetch initial data:",g),D(i=>({...i,loading:!1,error:g.message}))}})()},[O,oe]);const Te=m.useCallback(async n=>{const g=n.filter(v=>v&&v.id),i=3;for(let v=0;v<g.length;v+=i){const re=g.slice(v,v+i).map(I=>R(I.id).catch(T=>console.warn(`Failed to fetch reactions for article ${I.id}:`,T)));await Promise.allSettled(re),v+i<g.length&&await new Promise(I=>setTimeout(I,200))}},[R]),ke=m.useMemo(()=>n=>{const g=[];let i=[...n];const v=new Set;if(!n||n.length===0)return console.warn("No news articles provided to organizeNewsData"),g;if(i=i.filter(U),i.length===0)return console.warn("No valid news articles after filtering"),g;const C=Math.min(3,Math.ceil(i.length/20));for(let re=0;re<C&&i.length>10;re++){const I={},T=pe([...i],0),X=L=>{const z=[];let ge=0;const J=Math.min(L*2,T.length);for(;z.length<L&&T.length>0&&ge<J;){const ee=Math.floor(Math.random()*T.length),V=T[ee];if(U(V)&&!v.has(V.id)){z.push(V),v.add(V.id),T.splice(ee,1);const G=i.findIndex(Se=>U(Se)&&Se.id===V.id);G>-1&&i.splice(G,1)}else ee<T.length&&T.splice(ee,1);ge++}return z},Q=X(1);I.featuredArticle=Q.length>0?Q[0]:null;const _=X(1),q=_.length>0?_[0]:null;I.audioNews=q?{title:q.title||"Latest News Update",description:q.description||"Stay updated with the latest news",category:"THE HEADLINES",sentiment:q.sentiment||"Neutral",image:q.image||be()}:null;const ce=X(1);I.longReadArticle=ce.length>0?ce[0]:null;const le=X(4);I.liveUpdates=le.filter(U).map(L=>({id:L.id,title:L.title||"Untitled",description:L.description||"",timeAgo:L.publishedTime||"Recently",category:L.category||"News",image:L.image||be()}));const De=X(6);I.sidebarArticles=De.filter(U),I.tabsData={};const de=i.filter(L=>U(L)&&!v.has(L.id)),Lt=(L,z)=>{if(!z)return!0;const ge=L.category.toLowerCase(),J=L.title.toLowerCase(),ee=L.description.toLowerCase();return z.some(V=>ge.includes(V.toLowerCase())||J.includes(V.toLowerCase())||ee.includes(V.toLowerCase()))};He.forEach(L=>{let z=[];if(L.categoryFilter){if(z=[...de.filter(J=>U(J)?Lt(J,L.categoryFilter):!1).slice(0,L.count)],z.length<L.count){const J=new Set(z.map(G=>G.id)),ee=pe(de.filter(G=>U(G)&&!J.has(G.id)&&!v.has(G.id)),0),V=L.count-z.length;z=[...z,...ee.slice(0,V)]}}else{const J=de.filter(G=>U(G)&&!v.has(G.id)).sort((G,Se)=>{const Ft=new Date(G.publishedDateTime||0);return new Date(Se.publishedDateTime||0)-Ft}),ee=J.slice(0,2),V=pe(J.slice(2),0);z=[...ee,...V].slice(0,L.count)}z=z.filter(U),I.tabsData[L.key]=z}),g.push(I)}if(g.length===1&&i.length>0){const re=i.filter(I=>U(I)&&!v.has(I.id));if(re.length>0){const I={...g[0]},T=pe(re,0);if(T.length>0){if(I.featuredArticle=T[0],I.sidebarArticles=T.slice(1,7).filter(U),T.length>7){const Q=T[7];I.audioNews={title:Q.title||"Latest News Update",description:Q.description||"Stay updated with the latest news",category:"THE HEADLINES",sentiment:Q.sentiment||"Neutral",image:Q.image||be()}}if(T.length>8&&(I.longReadArticle=T[8]),T.length>9){const Q=T.slice(9,13);I.liveUpdates=Q.filter(U).map(_=>({id:_.id,title:_.title||"Untitled",description:_.description||"",timeAgo:_.publishedTime||"Recently",category:_.category||"News",image:_.image||be()}))}const X=T.slice(13);if(X.length>0){const Q=(_,q)=>{if(!q)return!0;const ce=_.category.toLowerCase(),le=_.title.toLowerCase(),De=_.description.toLowerCase();return q.some(de=>ce.includes(de.toLowerCase())||le.includes(de.toLowerCase())||De.includes(de.toLowerCase()))};He.forEach(_=>{let q=[];_.categoryFilter?q=X.filter(le=>U(le)?Q(le,_.categoryFilter):!1).slice(0,Math.min(_.count,4)):q=X.sort((ce,le)=>new Date(le.publishedDateTime)-new Date(ce.publishedDateTime)).slice(0,Math.min(_.count,4)),I.tabsData[_.key]=q.filter(U)})}g.push(I)}}}return g},[]),he=m.useCallback(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"start"})},[]);m.useEffect(()=>{const n=()=>he();return window.addEventListener("scrollToAbout",n),()=>window.removeEventListener("scrollToAbout",n)},[he]);const ne=m.useCallback(n=>{console.log(`Ad ${n} viewed`)},[]),Fe=m.useCallback(()=>{if(b>1){const n=b-1;O(n),window.scrollTo({top:0,behavior:"smooth"})}},[b,O]),Me=m.useCallback(()=>{if(b<y){const n=b+1;O(n),window.scrollTo({top:0,behavior:"smooth"})}},[b,y,O]),W=m.useCallback(n=>{n!==b&&n>=1&&n<=y&&(O(n),window.scrollTo({top:0,behavior:"smooth"}))},[b,y,O]),K=()=>{const n=[];if(y<=5)for(let i=1;i<=y;i++)n.push(i);else{let i=Math.max(1,b-2),v=Math.min(y,i+5-1);v-i+1<5&&(i=Math.max(1,v-5+1)),i>1&&(n.push(1),i>2&&n.push("..."));for(let C=i;C<=v;C++)n.push(C);v<y&&(v<y-1&&n.push("..."),n.push(y))}return n};return E.loading?e.jsx(Ht,{}):E.error?e.jsx(Ds,{error:E.error}):e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{children:[e.jsx("title",{children:"ALAMOCITYPULSE - Latest News and Updates"}),e.jsx("meta",{name:"description",content:"Stay informed with the latest news, breaking stories, and in-depth analysis from ALAMOCITYPULSE"})]}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Ot,{onScrollToAbout:he,onSearch:se,searchTerm:c,setSearchTerm:Z}),e.jsx("main",{className:"w-full mx-auto px-2 md:px-10 py-4 sm:py-8 pt-[150px] md:pt-[180px] lg:pt-[175px]",children:e.jsx("div",{className:"w-full justify-center items-center",children:x?e.jsxs("div",{className:"search-results w-full justify-center items-center my-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center",children:['Search Results for "',c,'"']}),j?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Searching..."})]}):p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((n,g)=>e.jsx("div",{className:"opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",style:{animationDelay:`${g*.2}s`},children:e.jsx(ue,{article:n,reactions:k[n.id]||[],onPostReaction:i=>ae(n.id,i),onPostLove:i=>M(n.id,i),onPostComment:i=>$(n.id,i)})},n.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-center text-gray-600 mb-4",children:"No results found."}),e.jsx("div",{className:"flex justify-center",children:e.jsx(fe,{onClick:()=>{h(!1),d("")},className:"mt-4",children:"Back to Home"})})]}),p.length>0&&e.jsx("div",{className:"flex justify-center items-center my-10",children:e.jsx(fe,{onClick:()=>{h(!1),d("")},className:"mt-4",children:"Back to Home"})})]}):e.jsxs(e.Fragment,{children:[E.sections.map((n,g)=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[3fr_1fr] gap-6 xl:gap-8 mb-12",children:[e.jsxs("div",{className:"w-full",children:[n.featuredArticle&&e.jsxs("div",{className:"mb-8 opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",children:[e.jsx(et,{article:n.featuredArticle,reactions:k[n.featuredArticle.id]||[],onPostReaction:i=>ae(n.featuredArticle.id,i),onPostLove:i=>M(n.featuredArticle.id,i),onPostComment:i=>$(n.featuredArticle.id,i)}),e.jsx(me,{advertisements:t,placement:"header-banner",onAdView:ne,className:"mb-6"})]}),n.audioNews&&e.jsx("div",{className:"mb-8 opacity-0 animate-[fadeIn_1s_ease-in-out_forwards] animation-delay-200",children:e.jsx(Qe,{...n.audioNews})}),e.jsx("div",{className:"w-full flex text-center",children:e.jsx(me,{advertisements:t,placement:"header-banner",onAdView:ne,className:"mb-6"})}),n.longReadArticle&&e.jsx(Je,{children:e.jsxs("div",{className:"opacity-0 animate-[fadeIn_1s_ease-in-out_forwards] animation-delay-400",children:[e.jsx(et,{article:n.longReadArticle,reactions:k[n.longReadArticle.id]||[],onPostReaction:i=>ae(n.longReadArticle.id,i),onPostLove:i=>M(n.longReadArticle.id,i),onPostComment:i=>$(n.longReadArticle.id,i)}),e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:ne,className:"mb-6"})]})}),Object.keys(n.tabsData).length>0&&e.jsx("div",{className:"mb-8",children:e.jsx(Rs,{dynamicTabsData:n.tabsData,dynamicTabsConfig:Xe(n.tabsData),newsReactions:k,onPostLove:M,onPostComment:$})}),e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:ne,className:"mb-6"}),n.liveUpdates&&n.liveUpdates.length>0&&e.jsx(e.Fragment,{children:e.jsx(Je,{children:e.jsx(ds,{updates:n.liveUpdates,newsReactions:k,onPostLove:M,onPostComment:$})})}),Object.keys(n.tabsData).length>0&&e.jsx("div",{className:"mb-8",children:e.jsx(Fs,{dynamicTabsData:n.tabsData,dynamicTabsConfig:Xe(n.tabsData),newsReactions:k,onPostLove:M,onPostComment:$})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(me,{advertisements:t,placement:"content-middle",onAdView:ne,className:"mb-6"})}),n.audioNews&&e.jsx("div",{className:"mb-8 opacity-0 animate-[fadeIn_1s_ease-in-out_forwards] animation-delay-600",children:e.jsx(Qe,{...n.audioNews})})]}),e.jsxs("aside",{className:"w-full xl:w-full",children:[n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>0&&e.jsxs("div",{className:"xl:hidden w-full mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:"Trending Now"}),e.jsxs("div",{className:"space-y-4",children:[n.sidebarArticles.filter(U).slice(0,7).map((i,v)=>e.jsx("div",{className:"w-full opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",style:{animationDelay:`${v*.2}s`},children:e.jsx(ue,{article:i,reactions:k[i.id]||[],onPostReaction:C=>ae(i.id,C),onPostLove:C=>M(i.id,C),onPostComment:C=>$(i.id,C)})},i.id)),e.jsx(me,{advertisements:t,placement:"card",onAdView:ne,className:"mt-8"})]})]}),e.jsx(Ie,{advertisements:t,position:"mobile-mid",width:"100%",height:"200px",className:"mb-6 xl:hidden",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>4&&e.jsx("div",{className:"xl:hidden w-full mb-6",children:e.jsx("div",{className:"space-y-4",children:n.sidebarArticles.filter(U).slice(4,10).map((i,v)=>e.jsx("div",{className:"w-full opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",style:{animationDelay:`${(v+7)*.2}s`},children:e.jsx(ue,{article:i,reactions:k[i.id]||[],onPostReaction:C=>ae(i.id,C),onPostLove:C=>M(i.id,C),onPostComment:C=>$(i.id,C)})},i.id))})}),e.jsxs("div",{className:"xl:block bg-gray-200 rounded-lg p-4 sm:p-6 flex flex-col items-center",children:[e.jsx(Ie,{advertisements:t,position:"sidebar-top",width:"100%",height:"200px",className:"mb-6",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>0&&e.jsxs("div",{className:"w-full",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4",children:"Trending Now"}),e.jsxs("div",{className:"space-y-4",children:[n.sidebarArticles.filter(U).slice(0,7).map((i,v)=>e.jsx("div",{className:"w-full opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",style:{animationDelay:`${v*.2}s`},children:e.jsx(ue,{article:i,reactions:k[i.id]||[],onPostReaction:C=>ae(i.id,C),onPostLove:C=>M(i.id,C),onPostComment:C=>$(i.id,C)})},i.id)),e.jsx(me,{advertisements:t,placement:"card",onAdView:ne,className:"my-6"})]})]}),e.jsx(Ie,{advertisements:t,position:"sidebar-mid",width:"100%",height:"200px",className:"my-6",maxAds:1}),n.sidebarArticles&&Array.isArray(n.sidebarArticles)&&n.sidebarArticles.length>3&&e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"space-y-4",children:n.sidebarArticles.filter(U).slice(4,10).map((i,v)=>e.jsx("div",{className:"w-full opacity-0 animate-[fadeIn_1s_ease-in-out_forwards]",style:{animationDelay:`${(v+7)*.2}s`},children:e.jsx(ue,{article:i,reactions:k[i.id]||[],onPostReaction:C=>ae(i.id,C),onPostLove:C=>M(i.id,C),onPostComment:C=>$(i.id,C)})},i.id))})}),e.jsx(Ie,{advertisements:t,position:"sidebar-bottom",width:"100%",height:"192px",className:"mt-6",maxAds:1})]})]})]})},g)),y>1&&e.jsx("div",{className:"flex justify-center items-center mt-12 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{onClick:Fe,disabled:b===1,variant:"outline",className:"px-4 py-2",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:K().map((n,g)=>n==="..."?e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},`ellipsis-${g}`):e.jsx(fe,{onClick:()=>W(n),variant:b===n?"default":"outline",className:`px-3 py-2 min-w-[40px] ${b===n?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:n},n))}),e.jsx(fe,{onClick:Me,disabled:b===y,variant:"outline",className:"px-4 py-2",children:"Next"})]})})]})})})]}),e.jsx("div",{ref:l,children:e.jsx(Ms,{})})]})}function $s(t,s){let a;const r=function(...c){const d=()=>{clearTimeout(a),t(...c)};clearTimeout(a),a=setTimeout(d,s)};return r.cancel=()=>{clearTimeout(a)},r}export{Vs as default};
